(()=>{var e,t={2854:(e,t,n)=>{"use strict";console.log("L.Control.Layers.Tree has been loaded!"),function(e){if(void 0===e)throw new Error("Leaflet must be included first");e.Control.Layers.Tree=e.Control.Layers.extend({options:{closedSymbol:"+",openedSymbol:"&minus;",spaceSymbol:" ",selectorBack:!1,namedToggle:!1,collapseAll:"",expandAll:"",labelIsSelector:"both"},_initClassesNames:function(){this.cls={children:"leaflet-layerstree-children",childrenNopad:"leaflet-layerstree-children-nopad",hide:"leaflet-layerstree-hide",closed:"leaflet-layerstree-closed",opened:"leaflet-layerstree-opened",space:"leaflet-layerstree-header-space",pointer:"leaflet-layerstree-header-pointer",header:"leaflet-layerstree-header",neverShow:"leaflet-layerstree-nevershow",node:"leaflet-layerstree-node",name:"leaflet-layerstree-header-name",label:"leaflet-layerstree-header-label",selAllCheckbox:"leaflet-layerstree-sel-all-checkbox"}},initialize:function(t,n,o){this._scrollTop=0,this._initClassesNames(),this._baseTree=null,this._overlaysTree=null,e.Util.setOptions(this,o),e.Control.Layers.prototype.initialize.call(this,null,null,o),this._setTrees(t,n)},setBaseTree:function(e){return this._setTrees(e)},setOverlayTree:function(e){return this._setTrees(void 0,e)},addBaseLayer:function(e,t){throw"addBaseLayer is disabled"},addOverlay:function(e,t){throw"addOverlay is disabled"},removeLayer:function(e){throw"removeLayer is disabled"},collapse:function(){return this._scrollTop=this._sect().scrollTop,e.Control.Layers.prototype.collapse.call(this)},expand:function(){e.Control.Layers.prototype.expand.call(this),this._sect().scrollTop=this._scrollTop},onAdd:function(t){function n(e){e._layersTreeName&&(i.innerHTML=e._layersTreeName)}var o=e.Control.Layers.prototype.onAdd.call(this,t);if(this.options.namedToggle){var i=this._container.getElementsByClassName("leaflet-control-layers-toggle")[0];e.DomUtil.addClass(i,"leaflet-layerstree-named-toggle"),t.eachLayer((function(e){n(e)})),t.on("baselayerchange",(function(e){n(e.layer)}),this)}return o},expandTree:function(e){var t=e?this._overlaysList:this._baseLayersList;return t&&this._applyOnTree(t,!1),this._localExpand()},collapseTree:function(e){var t=e?this._overlaysList:this._baseLayersList;return t&&this._applyOnTree(t,!0),this._localExpand()},expandSelected:function(t){function n(t){var i=t.parentElement;if(i){if(e.DomUtil.hasClass(i,o.cls.children)&&!e.DomUtil.hasClass(t,o.cls.childrenNopad)&&e.DomUtil.removeClass(i,a),e.DomUtil.hasClass(i,o.cls.node)){var r=i.getElementsByClassName(o.cls.header)[0];o._applyOnTree(r,!1)}n(i)}}var o=this,i=t?this._overlaysList:this._baseLayersList;if(!i)return this;for(var a=this.cls.hide,r=this._layerControlInputs||i.getElementsByTagName("input"),s=0;s<r.length;s++){var l=r[s];this._getLayer&&!!this._getLayer(l.layerId).overlay!=!!t||l.checked&&n(l.parentElement.parentElement.parentElement.parentElement)}return this._localExpand()},_sect:function(){return this._section||this._form},_setTrees:function(e,t){var n=0;function o(e,t,i){return e&&e.layer&&(i||(e.layer._layersTreeName=e.name||e.label),t[n++]=e.layer),e&&e.children&&e.children.length&&e.children.forEach((function(e){o(e,t,i)})),t}function i(e){return Array.isArray(e)?{noShow:!0,children:e}:e}this._layerControlInputs&&(this._layerControlInputs=[]);for(var a=0;a<this._layers.length;++a)this._layers[a].layer.off("add remove",this._onLayerChange,this);this._layers=[],void 0!==e&&(this._baseTree=i(e)),void 0!==t&&(this._overlaysTree=i(t));var r=o(this._baseTree,{});for(var s in r)this._addLayer(r[s],s);var l=o(this._overlaysTree,{},!0);for(var c in l)this._addLayer(l[c],c,!0);return this._map?this._update():this},_localExpand:function(){if(this._map&&e.DomUtil.hasClass(this._container,"leaflet-control-layers-expanded")){var t=this._sect().scrollTop;this.expand(),this._sect().scrollTop=t,this._scrollTop=t}return this},_applyOnTree:function(t,n){[{cls:this.cls.children,hide:n},{cls:this.cls.opened,hide:n},{cls:this.cls.closed,hide:!n}].forEach((function(n){for(var o=t.getElementsByClassName(n.cls),i=0;i<o.length;i++){var a=o[i];e.DomUtil.hasClass(a,this.cls.childrenNopad)||(n.hide?e.DomUtil.addClass(a,this.cls.hide):e.DomUtil.removeClass(a,this.cls.hide))}}),this)},_addItem:function(e){},_update:function(){return this._container?(e.Control.Layers.prototype._update.call(this),this._addTreeLayout(this._baseTree,!1),this._addTreeLayout(this._overlaysTree,!0),this._localExpand()):this},_addTreeLayout:function(e,t){if(e){var n=t?this._overlaysList:this._baseLayersList;this._expandCollapseAll(t,this.options.collapseAll,this.collapseTree),this._expandCollapseAll(t,this.options.expandAll,this.expandTree),this._iterateTreeLayout(e,n,t,[],e.noShow),this._checkDisabledLayers&&this._checkDisabledLayers()}},_expandCollapseAll:function(t,n,o,i){var a=t?this._overlaysList:this._baseLayersList;if(i=i||this,n){var r=document.createElement("div");r.className="leaflet-layerstree-expand-collapse",a.appendChild(r),r.innerHTML=n,r.tabIndex=0,e.DomEvent.on(r,"click keydown",(function(e){"keydown"===e.type&&32!==e.keyCode||(r.blur(),o.call(i,t),this._localExpand())}),this)}},_iterateTreeLayout:function(t,n,o,i,a){if(t)if(t.html){C("div","leaflet-layerstree-html-container",n).innerHTML=t.html}else{var r,s=C("div",this.cls.header,n),l=C("span"),c=C("span"),d=C("span",this.cls.closed,l,this.options.closedSymbol),p=C("span",this.cls.opened,l,this.options.openedSymbol),h=C("span",this.cls.space,null,this.options.spaceSymbol);this.options.selectorBack?(l.insertBefore(h,d),s.appendChild(c),s.appendChild(l)):(l.appendChild(h),s.appendChild(l),s.appendChild(c)),t.selectAllCheckbox&&((r=this._createCheckboxElement(!1)).className+=" "+this.cls.selAllCheckbox);var m=this.cls.hide;if(t.children){var u=C("div",this.cls.children,n),w=t.layer?l:s;e.DomUtil.addClass(w,this.cls.pointer),w.tabIndex=0,e.DomEvent.on(w,"click keydown",(function(t){this._preventClick||"keydown"===t.type&&32!==t.keyCode||(w.blur(),e.DomUtil.hasClass(p,m)?(e.DomUtil.addClass(d,m),e.DomUtil.removeClass(p,m),e.DomUtil.removeClass(u,m)):(e.DomUtil.removeClass(d,m),e.DomUtil.addClass(p,m),e.DomUtil.addClass(u,m)),this._localExpand())}),this),r&&i.splice(0,0,n),t.children.forEach((function(e){var t=C("div",this.cls.node,u);this._iterateTreeLayout(e,t,o,i)}),this),r&&i.splice(0,1)}else e.DomUtil.addClass(l,this.cls.neverShow);var g,f=C(t.layer&&("both"===this.options.labelIsSelector||o&&"overlay"===this.options.labelIsSelector||!o&&"base"===this.options.labelIsSelector)?"label":"span",this.cls.label,c);if(t.layer){var y,v=this._map.hasLayer(t.layer),b=o?t.radioGroup:"leaflet-base-layers_"+e.Util.stamp(this);b?y=this._createRadioElement(b,v):j(y=this._createCheckboxElement(v),this),this._layerControlInputs&&this._layerControlInputs.push(y),y.layerId=e.Util.stamp(t.layer),e.DomEvent.on(y,"click",this._onInputClick,this),f.appendChild(y)}t.selectAllCheckbox&&(f.appendChild(r),("string"==typeof(g=t.selectAllCheckbox)||g instanceof String)&&(r.title=t.selectAllCheckbox),e.DomEvent.on(r,"click",(function(e){e.stopPropagation(),E(r.checked,this)}),this),k(n),j(r,this)),C("span",this.cls.name,f,t.label),e.DomUtil.addClass(t.collapsed?p:d,m),t.collapsed&&u&&e.DomUtil.addClass(u,m),a&&(e.DomUtil.addClass(s,this.cls.neverShow),e.DomUtil.addClass(u,this.cls.childrenNopad));var L=t.eventedClasses;L instanceof Array||(L=[L]);for(var T=0;T<L.length;T++){var A=L[T];if(A&&A.className){var x=n.querySelector("."+A.className);x&&e.DomEvent.on(x,A.event||"click",function(e){return function(o){o.stopPropagation();var i,a=(i=e)&&"[object Function]"==={}.toString.call(i)?e(o,n,t,this._map):e;null!=a&&E(a,this)}}(A.selectAll),this)}}}function C(t,n,o,i){var a=e.DomUtil.create(t,n,o);return i&&(a.innerHTML=i),a}function k(e){var t=e.querySelector("input[type=checkbox]"),n=!0,o=!0,i=e.querySelectorAll("input[type=checkbox]");[].forEach.call(i,(function(e){e===t||(e.indeterminate?(n=!1,o=!1):e.checked?o=!1:e.checked||(n=!1))})),n?(t.indeterminate=!1,t.checked=!0):o?(t.indeterminate=!1,t.checked=!1):(t.indeterminate=!0,t.checked=!1)}function j(t,n){i.forEach((function(o){e.DomEvent.on(t,"click",(function(e){k(o)}),n)}),n)}function E(e,t){for(var o=n.getElementsByTagName("input"),i=0;i<o.length;i++){var a=o[i];"checkbox"===a.type&&(a.checked=e,a.indeterminate=!1)}t._onInputClick()}},_createCheckboxElement:function(e){var t=document.createElement("input");return t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=e,t}}),e.control.layers.tree=function(t,n,o){return new e.Control.Layers.Tree(t,n,o)}}(L),console.log("L.Control.Layers.Tree has been loaded!");const o=window.L,i=o.Control.extend({onAdd:function(e){var t=o.DomUtil.create("div","info-control leaflet-bar leaflet-control"),n=o.DomUtil.create("a","leaflet-control-button",t);n.href="#";var i=o.DomUtil.create("img","info-control-icon",n);return i.src="assets/images/info.png",i.alt="Information",i.style.width="24px",i.style.height="24px",i.style.padding="4px",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(n,"click",(function(t){o.DomEvent.stop(t);o.popup({className:"info-popup",autoPan:!0}).setLatLng(e.getCenter()).setContent('<div style="padding: 10px; max-width: 800px;"><h3><img src="/assets/images/XCmapsLogo.png" alt="XCmaps"></h3><p>You can contact us by email, or report any issue on github.</p><p><strong>Credits:</strong></p><ul><li>Terrain tiles by <a href="https://www.jawg.io" target="_blank">Jawg</a></li><li>OpenStreetMap</li><li>XContest terrain data</li><li>MapTiler for GL layer</li><li>Airspaces: Airspaces are imported from openaip:"OpenAIP data is not certified and must not be used for primary navigation or flight planning. Never rely on openAIP data! OpenAIP data contains errors. Using openAIP data may result in serious injury or death."</li><li>Wind Stations: based on <a href="https://github.com/winds-mobi/" target="_blank">winds.mobi</a> by Yann Savary and additional data sources</li><li>Spots: © <a href="https://paraglidingspots.com" target="_blank">paraglidingspots.com</a> by Karsten Ehlers</li><li>and many more open source libraries, projects, and artwork</li></ul><p>This map combines various data sources for aerial sports navigation.</p></div>').openOn(e)})),t}});let a,r=null,s=3e3;function l(){if(!window.map)return void console.error("Map not initialized yet");const e=window.map.getCenter(),t=`http://localhost:3000/api/airspaces?lat=${e.lat.toFixed(6)}&lng=${e.lng.toFixed(6)}&dist=200000&types=${encodeURIComponent([0,1,3,4,5,7,26,28].join(","))}`;fetch(t).then((e=>e.json())).then((e=>{window.airspaceEFG.clearLayers();const t=[];e.items.forEach((e=>{if(0===e.type&&4===e.icaoClass)return;const n=parseInt(document.getElementById("airspaceLowerLimit").value,10),o=e.lowerLimit;if(!o)return;const i=function(e,t){switch(t){case 1:return.3048*e;case 2:return e;case 6:return 100*e*.3048;default:return null}}(o.value,o.unit);if(!(null===i||i>=n)&&e.geometry&&"Polygon"===e.geometry.type){const n=e.geometry.coordinates[0].map((e=>[e[1],e[0]])),o=0===e.lowerLimit.value?"red":"blue",i=(c[e.type],d[e.icaoClass],L.polygon(n,{color:o,weight:2,fillOpacity:.3}));t.push({polygon:i,data:e}),window.airspaceEFG.addLayer(i)}})),console.log(`Added ${t.length} airspaces to the map`),r&&window.map.off("click",r),r=function(e){if(!window.map.hasLayer(window.airspaceEFG))return;const n=e.latlng,o=[];if(t.forEach((e=>{let{polygon:t,data:i}=e;t.getBounds().contains(n)&&o.push(i)})),o.length>0){const e=o.map((e=>`\n            <b>${e.name}</b><br>\n            Type: ${c[e.type]||"Unknown"}<br>\n            ICAO Class: ${d[e.icaoClass]||"Unknown"}<br>\n            ID: ${e._id}<br>\n            ↧${e.lowerLimit.value} ${p(e.lowerLimit.unit)}  ↥${e.upperLimit.value} ${p(e.upperLimit.unit)}<br>\n          `)).join("<hr>");L.popup().setLatLng(n).setContent(e).openOn(window.map)}},window.map.on("click",r)})).catch((e=>console.error("Error fetching airspaces:",e)))}const c={0:"Other",1:"Restricted",2:"Danger (D)",3:"Prohibited (Parc reserve)",4:"Controlled Tower Region (CTR)",5:"Transponder Mandatory Zone (TMZ)",6:"Radio Mandatory Zone (RMZ)",7:"Terminal Maneuvering Area (TMA)",8:"Temporary Reserved Area (TRA)",9:"Temporary Segregated Area (TSA)",10:"Flight Information Region (FIR)",11:"Upper Flight Information Region (UIR)",12:"Air Defense Identification Zone (ADIZ)",13:"Airport Traffic Zone (ATZ)",14:"Military Airport Traffic Zone (MATZ)",15:"Airway",16:"Military Training Route (MTR)",17:"Alert Area",18:"Warning Area",19:"Protected Area",20:"Helicopter Traffic Zone (HTZ)",21:"Gliding Sector",22:"Transponder Setting (TRP)",23:"Traffic Information Zone (TIZ)",24:"Traffic Information Area (TIA)",25:"Military Training Area (MTA)",26:"Control Area (CTA)",27:"ACC Sector (ACC)",28:"Aerial Sporting Or Recreational Activity",29:"Low Altitude Overflight Restriction",30:"Military Route (MRT)",31:"TSA/TRA Feeding Route (TFR)",32:"VFR Sector",33:"FIS Sector",34:"Lower Traffic Area (LTA)",35:"Upper Traffic Area (UTA)"},d={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",8:"Special Use Airspace (SUA)"};function p(e){return{1:"ft",2:"m",6:"FL"}[e]||"Unknown"}window.fetchAirspaces=l,document.addEventListener("map_initialized",(function(){console.log("Setting up airspace layer events"),window.map.on("overlayadd",(function(e){"Airspaces"!==e.name&&"Gliding"!==e.name&&"Notam"!==e.name||(console.log(`Overlay added: ${e.name}, fetching airspaces`),l())})),document.addEventListener("DOMContentLoaded",(function(){document.body.addEventListener("change",(function(e){if(e.target&&"airspaceLowerLimit"===e.target.id){const t=parseInt(e.target.value,10);t!==s&&(s=t,clearTimeout(a),a=setTimeout((()=>{window.map.hasLayer(window.airspaceEFG)&&(console.log(`Lower limit changed to ${t}m, reloading airspaces`),l())}),300))}}))})),window.map.on("moveend",(function(){window.map.hasLayer(window.airspaceEFG)&&(console.log("Map moved, refreshing airspaces"),l())}))}));let h=null;function m(){if(!window.map)return void console.error("Map not initialized yet");const e=window.map.getCenter(),t=`http://localhost:3000/api/airspaces?lat=${e.lat.toFixed(6)}&lng=${e.lng.toFixed(6)}&dist=200000&types=${encodeURIComponent([21].join(","))}`;fetch(t).then((e=>e.json())).then((e=>{window.airspaceGliding.clearLayers();const t=[];e.items.forEach((e=>{if((0!==e.type||4!==e.icaoClass)&&e.geometry&&"Polygon"===e.geometry.type){const n=e.geometry.coordinates[0].map((e=>[e[1],e[0]])),o=0===e.lowerLimit.value?"red":"green",i=(u[e.type],w[e.icaoClass],L.polygon(n,{color:o,weight:2,fillOpacity:.3}));t.push({polygon:i,data:e}),window.airspaceGliding.addLayer(i)}})),console.log(`Added ${t.length} airspaces to the map`),h&&window.map.off("click",h),h=function(e){if(!window.map.hasLayer(window.airspaceGliding))return;const n=e.latlng,o=[];if(t.forEach((e=>{let{polygon:t,data:i}=e;t.getBounds().contains(n)&&o.push(i)})),o.length>0){const e=o.map((e=>`\n            <b>${e.name}</b><br>\n            Type: ${u[e.type]||"Unknown"}<br>\n            ICAO Class: ${w[e.icaoClass]||"Unknown"}<br>\n            ↧${e.lowerLimit.value} ${g(e.lowerLimit.unit)}  ↥${e.upperLimit.value} ${g(e.upperLimit.unit)}<br>\n          `)).join("<hr>");L.popup().setLatLng(n).setContent(e).openOn(window.map)}},window.map.on("click",h)})).catch((e=>console.error("Error fetching airspaces:",e)))}const u={0:"Other",1:"Restricted",2:"Danger (D)",3:"Prohibited (Parc reserve)",4:"Controlled Tower Region (CTR)",5:"Transponder Mandatory Zone (TMZ)",6:"Radio Mandatory Zone (RMZ)",7:"Terminal Maneuvering Area (TMA)",8:"Temporary Reserved Area (TRA)",9:"Temporary Segregated Area (TSA)",10:"Flight Information Region (FIR)",11:"Upper Flight Information Region (UIR)",12:"Air Defense Identification Zone (ADIZ)",13:"Airport Traffic Zone (ATZ)",14:"Military Airport Traffic Zone (MATZ)",15:"Airway",16:"Military Training Route (MTR)",17:"Alert Area",18:"Warning Area",19:"Protected Area",20:"Helicopter Traffic Zone (HTZ)",21:"Gliding Sector",22:"Transponder Setting (TRP)",23:"Traffic Information Zone (TIZ)",24:"Traffic Information Area (TIA)",25:"Military Training Area (MTA)",26:"Control Area (CTA)",27:"ACC Sector (ACC)",28:"Aerial Sporting Or Recreational Activity",29:"Low Altitude Overflight Restriction",30:"Military Route (MRT)",31:"TSA/TRA Feeding Route (TFR)",32:"VFR Sector",33:"FIS Sector",34:"Lower Traffic Area (LTA)",35:"Upper Traffic Area (UTA)"},w={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",8:"Special Use Airspace (SUA)"};function g(e){return{1:"ft",6:"FL"}[e]||"Unknown"}window.fetchAirspacesGliding=m,document.addEventListener("map_initialized",(function(){console.log("Setting up airspace layer events"),window.map.on("overlayadd",(function(e){"Airspaces"!==e.name&&"Gliding"!==e.name&&"Notam"!==e.name||(console.log(`Overlay added: ${e.name}, fetching airspaces`),m())})),window.map.on("moveend",(function(){window.map.hasLayer(window.airspaceGliding)&&(console.log("Map moved, refreshing airspaces"),m())}))}));let f=null;function y(){if(!window.map)return void console.error("Map not initialized yet");const e=window.map.getCenter(),t=`http://localhost:3000/api/airspaces?lat=${e.lat.toFixed(6)}&lng=${e.lng.toFixed(6)}&dist=200000&types=${encodeURIComponent([8,9].join(","))}`;fetch(t).then((e=>e.json())).then((e=>{window.airspaceNotam.clearLayers();const t=[];e.items.forEach((e=>{if((0!==e.type||4!==e.icaoClass)&&e.geometry&&"Polygon"===e.geometry.type){const n=e.geometry.coordinates[0].map((e=>[e[1],e[0]])),o=0===e.lowerLimit.value?"red":"blue",i=(v[e.type],b[e.icaoClass],L.polygon(n,{color:o,weight:2,fillOpacity:.3}));t.push({polygon:i,data:e}),window.airspaceNotam.addLayer(i)}})),console.log(`Added ${t.length} airspaces to the map`),f&&window.map.off("click",f),f=function(e){if(!window.map.hasLayer(window.airspaceNotam))return;const n=e.latlng,o=[];if(t.forEach((e=>{let{polygon:t,data:i}=e;t.getBounds().contains(n)&&o.push(i)})),o.length>0){const e=o.map((e=>`\n            <b>${e.name}</b><br>\n            Type: ${v[e.type]||"Unknown"}<br>\n            ICAO Class: ${b[e.icaoClass]||"Unknown"}<br>\n            ↧${e.lowerLimit.value} ${T(e.lowerLimit.unit)}  ↥${e.upperLimit.value} ${T(e.upperLimit.unit)}<br>\n          `)).join("<hr>");L.popup().setLatLng(n).setContent(e).openOn(window.map)}},window.map.on("click",f)})).catch((e=>console.error("Error fetching airspaces:",e)))}const v={0:"Other",1:"Restricted",2:"Danger (D)",3:"Prohibited (Parc reserve)",4:"Controlled Tower Region (CTR)",5:"Transponder Mandatory Zone (TMZ)",6:"Radio Mandatory Zone (RMZ)",7:"Terminal Maneuvering Area (TMA)",8:"Temporary Reserved Area (TRA)",9:"Temporary Segregated Area (TSA)",10:"Flight Information Region (FIR)",11:"Upper Flight Information Region (UIR)",12:"Air Defense Identification Zone (ADIZ)",13:"Airport Traffic Zone (ATZ)",14:"Military Airport Traffic Zone (MATZ)",15:"Airway",16:"Military Training Route (MTR)",17:"Alert Area",18:"Warning Area",19:"Protected Area",20:"Helicopter Traffic Zone (HTZ)",21:"Gliding Sector",22:"Transponder Setting (TRP)",23:"Traffic Information Zone (TIZ)",24:"Traffic Information Area (TIA)",25:"Military Training Area (MTA)",26:"Control Area (CTA)",27:"ACC Sector (ACC)",28:"Aerial Sporting Or Recreational Activity",29:"Low Altitude Overflight Restriction",30:"Military Route (MRT)",31:"TSA/TRA Feeding Route (TFR)",32:"VFR Sector",33:"FIS Sector",34:"Lower Traffic Area (LTA)",35:"Upper Traffic Area (UTA)"},b={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",8:"Special Use Airspace (SUA)"};function T(e){return{1:"ft",6:"FL"}[e]||"Unknown"}window.fetchAirspacesNotam=y,document.addEventListener("map_initialized",(function(){console.log("Setting up airspace layer events"),window.map.on("overlayadd",(function(e){"Airspaces"!==e.name&&"Gliding"!==e.name&&"Notam"!==e.name||(console.log(`Overlay added: ${e.name}, fetching airspaces`),y())})),window.map.on("moveend",(function(){window.map.hasLayer(window.airspaceNotam)&&(console.log("Map moved, refreshing airspaces"),y())}))}));var A=n(5093);n(4837);let x=null;function C(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e/22.5)%16]}function k(e){return e>=7&&e<=14?"LimeGreen":e>=15&&e<=24?"yellow":e>=25&&e<=30?"orange":e>=31&&e<=36?"red":e>36?"black":"Aquamarine"}function j(e){return e>=15&&e<=24?"LimeGreen":e>=25&&e<=32?"yellow":e>=33&&e<=38?"orange":e>=39&&e<=44?"red":e>44?"black":"Aquamarine"}function E(e){return"black"===e?"white":"black"}window.fetchAirspacesXC=function(){if(!window.map)return void console.error("Map not initialized yet");const e=window.map.getCenter(),t=(e.lat.toFixed(6),e.lng.toFixed(6),window.map.getBounds()),n=t.getNorthWest(),o=t.getSouthEast(),i=new Date,a=`http://localhost:3000/api/airspacesXCdb?startDate=${`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`}&nw_lat=${n.lat.toFixed(6)}&nw_lng=${n.lng.toFixed(6)}&se_lat=${o.lat.toFixed(6)}&se_lng=${o.lng.toFixed(6)}`;fetch(a).then((e=>e.json())).then((e=>{window.airspaceXC.clearLayers();const t=[];x&&(window.map.off("click",x),x=null);const n=e.features||[],o=new Date;console.log("Current date for expiration checks:",o);const i=Intl.DateTimeFormat().resolvedOptions().timeZone,a=A.tz(i).zoneAbbr();console.log(a),n.forEach((e=>{if(e.geometry&&"Polygon"===e.geometry.type){if(e.properties.name&&e.properties.name.startsWith("V00"))return;if(e.properties.descriptions&&Array.isArray(e.properties.descriptions)&&e.properties.descriptions.length>0){let t=!1;for(const n of e.properties.descriptions){const i=(n.airdescription||"").match(/C\)\s*(\d{10})/);if(i&&i[1]){const n=i[1];try{const i=2e3+parseInt(n.substring(0,2)),a=parseInt(n.substring(2,4))-1,r=parseInt(n.substring(4,6)),s=parseInt(n.substring(6,8)),l=parseInt(n.substring(8,10)),c=new Date(i,a,r,s,l);if(console.log(`Airspace ${e.properties.name} has expiration date: ${c}`),c<=o){console.log(`Airspace ${e.properties.name} is expired`),t=!0;break}}catch(e){console.error("Error parsing expiration date:",e)}}}if(t)return}const n=parseInt(document.getElementById("airspaceLowerLimit").value,10),i=e.properties.airlower_j;if(!i)return;let a=null;if(("AMSL"===i.type||"FL"===i.type||"AGL"===i.type)&&(a=.3048*i.height),null===a||a>=n)return;const r=e.geometry.coordinates[0].map((e=>[e[1],e[0]])),s=L.polygon(r,{color:e.properties.strokeColor||"blue",weight:e.properties.strokeWeight||2,fillColor:e.properties.fillColor||"blue",fillOpacity:e.properties.fillOpacity||.3});t.push({polygon:s,data:e.properties}),window.airspaceXC.addLayer(s)}})),console.log(`Added ${t.length} airspaces to the map`),x=function(e){if(!window.map.hasLayer(window.airspaceXC))return;const n=e.latlng,o=[];if(t.forEach((e=>{let{polygon:t,data:i}=e;t.getBounds().contains(n)&&o.push(i)})),o.length>0){const e=A.tz.guess(),t=`<div class="timezone-info" style="margin-top: 5px; font-size: 0.85em;">Local timezone: ${A.tz(e).zoneAbbr()} (UTC${A.tz(e).format("Z")})</div>`,i=o.map((e=>{let n="";if(e.descriptions&&Array.isArray(e.descriptions)&&e.descriptions.length>0){const t=e=>e?e.replace(/([ABCDEFGQ]\))/g,"<br>$1"):"";n=`\n                  <div class="airspace-descriptions" style="font-size: 0.8em;">\n                      ${e.descriptions.map((e=>`${t(e.airdescription||"")} ${e.airlanguage?`(${e.airlanguage})`:""}`)).join("")}\n                  </div>\n                `}let o="";return e.activations&&Array.isArray(e.activations)&&e.activations.length>0&&(o=`\n                  <div class="airspace-activations">\n                    <b>Activations:</b><br>\n                    ${e.activations.map((e=>{const t=new Date(e[0]),n=new Date(e[1]),o=e=>e.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return`${o(t)} - ${o(n)}`})).join("<br>")}\n                  </div>\n                `),`\n              <b>${e.name} (${e.airspaceClass})</b><br>\n              <b>↧ </b>${e.lowerLimit} - <b>↥ </b>${e.upperLimit}<br>\n              ${t}\n              </div>\n                ${n}\n                ${o}\n              </div>\n              `})).join("<hr style='margin: 3px 0;'>");L.popup().setLatLng(n).setContent(i).openOn(window.map)}},window.map.on("click",x)})).catch((e=>console.error("Error fetching airspaces:",e)))},window.showTab=function(e,t){console.log("Switching to tab:",e),document.querySelectorAll(".tab-content").forEach((e=>{e.style.display="none"})),document.querySelectorAll(".tab").forEach((e=>{e.classList.remove("active")}));const n=document.getElementById(e);if(n?n.style.display="block":console.error("Tab not found:",e),t?t.classList.add("active"):console.error("Element is null or undefined"),e.startsWith("chart-")){const t=e.split("chart-")[1];console.log("Station ID:",t);const n=document.getElementById(`canvas-${t}`);n?(console.log("Canvas found:",n),n.chartInstance?(console.log("Updating chart..."),n.chartInstance.resize(),n.chartInstance.update()):console.warn("Chart instance not found on canvas:",n)):console.error("Canvas not found for station ID:",t)}},window.fetchWindStations=function(){if(!window.map||"function"!=typeof window.map.getBounds)return void console.error("Map not properly initialized");const e=window.map.getBounds(),t=e.getNorthWest().lat,n=e.getNorthWest().lng,o=e.getSouthEast().lat,i=e.getSouthEast().lng;fetch(`http://localhost:3000/api/wind-data-getCurrent?nwLat=${t}&nwLng=${n}&seLat=${o}&seLng=${i}`).then((e=>e.json())).then((e=>{if(!Array.isArray(e))throw new Error("Invalid data format received from API");windLayer.clearLayers(),console.log("Wind layers cleared"),e.forEach((e=>{const[t,n]=e.loc.coordinates,o=e.last["w-dir"],i=e.last["w-avg"],a=e.last["w-max"],r=(e.last.temp,C(o)),s=new Date(1e3*e.last._id).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),l=k(i),c=j(a),d=e.peak?"▲":"▼",p=e._id.includes("holfuy");let h="";p&&(h=e._id.split("-")[1]);const m=`\n          <svg width="30" height="30" viewBox="0 0 800 900" xmlns="http://www.w3.org/2000/svg">\n            <g transform="rotate(${o+90}, 400, 400)" stroke="${c}" stroke-width="60">\n              <path d="M203,391 L75,144 L738,391 L75,637 L203,391 Z" fill="${l}"/>\n            </g>\n            <text x="330" y="850" font-size="220" text-anchor="middle" fill="black" font-weight="bold">\n              ${d}${Math.round(i)} / ${Math.round(a)}\n            </text>\n          </svg>`,u=L.divIcon({className:"wind-arrow",html:m,iconSize:[30,30],iconAnchor:[12,15]}),w=L.marker([n,t],{icon:u}).addTo(windLayer);fetch(`https://winds.mobi/api/2.3/stations/${e._id}/historic/?duration=21000&keys=w-dir&keys=w-avg&keys=w-max&keys=temp`).then((e=>e.json())).then((t=>{const n=function(e){const t={};e.forEach((e=>{const n=new Date(1e3*e._id);n.setMinutes(10*Math.floor(n.getMinutes()/10)),n.setSeconds(0),n.setMilliseconds(0);const o=n.getTime();t[o]||(t[o]={count:0,wAvgSum:0,wMaxSum:0,wDirSum:0,tempSum:0,tempCount:0}),t[o].count++,t[o].wAvgSum+=e["w-avg"],t[o].wMaxSum+=e["w-max"],t[o].wDirSum+=e["w-dir"],void 0!==e.temp&&(t[o].tempSum+=e.temp,t[o].tempCount++)}));const n=Object.keys(t).map((e=>({_id:parseInt(e)/1e3,"w-avg":t[e].wAvgSum/t[e].count,"w-max":t[e].wMaxSum/t[e].count,"w-dir":t[e].wDirSum/t[e].count,temp:t[e].tempCount>0?t[e].tempSum/t[e].tempCount:void 0})));return n.sort(((e,t)=>t._id-e._id)),n}(t),l=Date.now()-18e6,c=n.filter((e=>1e3*e._id>=l));let d='<table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">\n              <thead>\n                <tr>\n                  <th>Wind (m/s)</th>\n                  <th>Gusts (m/s)</th>\n                  <th>Direction</th>\n                  <th>Temp C°</th>\n                  <th>Time</th>\n                </tr>\n              </thead>\n              <tbody>';c.forEach((e=>{const t=new Date(1e3*e._id).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),n=C(e["w-dir"]);d+=`<tr>\n                <td style="color: ${E(k(e["w-avg"]))}; background-color: ${k(e["w-avg"])};">\n                  ${e["w-avg"].toFixed(1)}\n                </td>\n                <td style="color: ${E(j(e["w-max"]))}; background-color: ${j(e["w-max"])};">\n                  ${e["w-max"].toFixed(1)}\n                </td>\n                <td>\n                  <span style="display: inline-block; transform: rotate(${e["w-dir"]+180}deg);"><strong>⬆ </strong></span>\n                  ${n}\n                </td>\n                <td>${void 0!==e.temp?e.temp.toFixed(1):"N/A"}</td>\n                <td>${t}</td>\n              </tr>`})),d+="</tbody></table>";const m=n.slice().reverse(),u=`\n              <div style="display: flex; gap: 1px; align-items: flex-start;">\n                <div style="flex: 1;">\n                  <strong>${e.short}</strong><br><br>\n                  <tag-name style="white-space:pre">Wind Speed:&#9;&#9;${i} km/h<br></tag-name>\n                  <tag-name style="white-space:pre">Max Wind:&#9;&#9;${a} km/h<br></tag-name>\n                  <tag-name style="white-space:pre">Wind Direction:&#9;${o}° (${r})<br></tag-name>\n                  <tag-name style="white-space:pre">Last Update:&#9;&#9;${s}<br><br></tag-name>\n                </div>\n                ${p?`\n                  <div style="flex: 0 0 auto; width: 110px;">\n                    <iframe src="https://widget.holfuy.com/?station=${h}&su=km/h&t=C&lang=en&mode=rose&size=110"\n                      width="160"\n                      height="110"\n                      frameborder="0"\n                      scrolling="no">\n                    </iframe>\n                  </div>\n                `:""}\n              </div>\n              \n              <div class="tab-container">\n                <div class="tab active" onclick="showTab('table-${e._id}', this)">Table</div>\n                <div class="tab" onclick="showTab('chart-${e._id}', this)">Chart</div>\n                <div class="tab" id="camera-tab-${e._id}" style="display: none;" onclick="showTab('camera-${e._id}', this)">Camera</div>\n              </div>\n              <div id="table-${e._id}" class="tab-content">\n                ${d}\n              </div>\n              <div id="chart-${e._id}" class="tab-content" style="display: none;">\n                <canvas id="canvas-${e._id}" width="400" height="200"></canvas>\n              </div>\n              <div id="camera-${e._id}" class="tab-content" style="display: none;">\n                <img id="camera-image-${e._id}" src="" alt="Camera Image" style="width: 100%; height: auto;">\n              </div>\n            `;w.bindPopup(L.responsivePopup({hasTip:!0,autoPan:!1,offset:[15,25],maxWidth:560,maxHeight:800}).setContent(u)),w.on("popupopen",(()=>{setTimeout((()=>{const t=document.getElementById(`canvas-${e._id}`);if(t){t.style.height="300px";const e=t.getContext("2d");if(e){const n=m.map((e=>({x:1e3*e._id,y:e["w-avg"]}))),o=m.map((e=>({x:1e3*e._id,y:e["w-max"]}))),i=new Chart(e,{type:"line",data:{datasets:[{label:"Wind Avg (km/h)",data:n,borderColor:"blue",fill:!1,pointRadius:3},{label:"Wind Max (km/h)",data:o,borderColor:"red",fill:!1,pointRadius:3}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{bottom:5}},scales:{x:{type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"},tooltipFormat:"HH:mm"},grid:{drawBorder:!0},ticks:{autoSkip:!0,maxRotation:0,minRotation:0,padding:30}},y:{beginAtZero:!0,ticks:{stepSize:10,maxTicksLimit:10,font:{size:14}}}},plugins:{legend:{display:!1}}},plugins:[{id:"windDirectionArrows",afterDraw:e=>{const t=e.ctx,n=e.scales.x;t.save();const o=n.top+20;t.textAlign="center",t.textBaseline="middle",m.forEach((e=>{const i=n.getPixelForValue(1e3*e._id);t.save(),t.translate(i,o),t.rotate((e["w-dir"]+180)*Math.PI/180),t.font="18px Arial",t.fillText("⬆",0,0),t.restore()})),t.restore()}}]});t.chartInstance=i}else console.error("Failed to get 2D context from canvas.")}else console.error("Canvas element not found.");if(e._id.includes("holfuy")){const t=`https://holfuy.com/en/takeit/cam/s${e._id.split("-")[1]}.jpg`,n=document.getElementById(`camera-image-${e._id}`),o=document.getElementById(`camera-tab-${e._id}`),i=new Image;i.onload=function(){n.src=t,o.style.display="block"},i.onerror=function(){o.style.display="none"},i.src=t,setTimeout((()=>{i.complete&&0!==i.naturalWidth||(o.style.display="none")}),2e3)}}),500)}))})).catch((e=>console.error("Error fetching historical wind data:",e)))}))})).catch((e=>console.error("Error fetching wind station data:",e)))};let S=null,_=null;function I(){"undefined"!=typeof swiperc&&(window.innerWidth<576?($(".swiper2").css("height",""),$(".swiper2").css("width","320px"),$(".swiper2").css("padding-left",""),$(".swiper2").css("padding-top","30px"),$(".swiper2 > .swiper-wrapper").css("width",""),$(".swiper2 > .swiper-wrapper").css("height","100px"),swiperc.changeDirection("horizontal",!0)):(window.innerWidth<840?($(".swiper2").css("width",""),$(".swiper2").css("height","320px")):($(".swiper2").css("width",""),$(".swiper2").css("height","460px")),$(".swiper2").css("padding-top",""),$(".swiper2").css("padding-left","30px"),$(".swiper2 > .swiper-wrapper").css("height",""),$(".swiper2 > .swiper-wrapper").css("width","100px"),swiperc.changeDirection("vertical",!0)))}function P(e){const t={N:0,NNE:22.5,NE:45,ENE:67.5,E:90,ESE:112.5,SE:135,SSE:157.5,S:180,SSW:202.5,SW:225,WSW:247.5,W:270,WNW:292.5,NW:315,NNW:337.5};let n=[];return e.split(",").map((e=>e.trim())).forEach((e=>{let o=e.split("-").map((e=>e.trim()));if(1===o.length){let e=t[o[0]];void 0!==e&&n.push([e-22.5,e+22.5])}else if(2===o.length){let e=t[o[0]],i=t[o[1]];void 0!==e&&void 0!==i&&(i<e&&([e,i]=[i,e]),i-e>180&&([e,i]=[i,e]),n.push([e,i]))}})),n}async function D(e,t){try{const n=await fetch(`http://localhost:3000/api/places/${t}`),o=await n.json();if(o.error)return void console.error("Error fetching place details:",o.error);let i=/<center><b><a href="http:\/\/www\.paraglidingearth\.com\/index\.php\?site=\d+">More information on ParaglidingEarth<\/a><\/b><\/center>\n?/g,a=/<br>\n<b>Take off : <\/b><br>\n?/g,r=/H \d+(-\d+)? m(?:, |<br>)/g,s=/HD \d+ m(?:<br>| \/)/g,l=/\nrating \d+\/\d+(?:\n|<br>)*/gi,c=(o.properties.description||"").replace(i,"").replace(a,"").replace(r,"").replace(s,"").replace(l,"").trim();window.currentPlaceName=o.properties.name,window.currentPlaceId=o.properties.id,window.currentStrPlacemarkId=o.properties.strPlacemarkId;let d=`<span style="color: #0087F7;"><h5>${o.properties.name}</h5></span>\n                            <table style="border-collapse: collapse; width: 40%;">\n                            <tr>\n                                <th style="text-align: left; vertical-align: top;">Type:</th>\n                                <td style="text-align: left; vertical-align: top;">${o.properties.type}</td>\n                            </tr>\n                            <tr>\n                                <th style="text-align: left; vertical-align: top;">Direction:</th>\n                                <td style="text-align: left; vertical-align: top;">${o.properties.direction}</td>\n                            </tr>\n                            <tr>\n                                <th style="text-align: left; vertical-align: top;">Rating:</th>\n                                <td style="text-align: left; vertical-align: top;">${null!=o.properties.rating?o.properties.rating+"/6":" -"}</td>\n                            </tr>\n                            <tr>\n                                <th style="text-align: left; vertical-align: top;">Height:</th>\n                                <td style="text-align: left; vertical-align: top;">${null!=o.properties.height?o.properties.height:" -"}</td>\n                            </tr>\n                            <tr>\n                                <th style="text-align: left; vertical-align: top;">Height difference:</th>\n                                <td style="text-align: left; vertical-align: top;">${null!=o.properties.heightdifference?o.properties.heightdifference:" -"}</td>\n                            </tr>\n                            <tr>\n                                <th style="text-align: left; vertical-align: top;">Last Update:</th>\n                                <td style="text-align: left; vertical-align: top;">${o.properties.lastupdate}</td>\n                            </tr>\n                            </table><br>\n                            <b>Description:</b> ${c}<br>\n                            <b>© <a href="https://paraglidingspots.com" target="_blank">paraglidingspots.com</a></b>\n                            <div class="modal-footer d-flex justify-content-between">\n                            <div id="feedback-message" class="text-start"></div> \x3c!-- Message on the left --\x3e\n                            <div class="d-flex ms-auto">\n                                <button class="btn btn-primary me-2" onclick="showFeebackForm()">Feedback/Correction</button>\n                                <button class="btn btn-dark close-popup">Close</button>\n                            </div>\n                            </div>\n                            `;d+="<style>\n        /* Limit the height of the Swiper container */\n        .swiper-container {\n            max-height: 460px !important;\n            height: 460px !important;\n            overflow: hidden !important;\n        }\n\n        /* Ensure individual Swipers don't expand beyond this height */\n        .swiper, .swiper1, .swiper2 {\n            max-height: 460px !important;\n            height: 460px !important;\n            overflow: hidden !important;\n        }\n\n        /* Limit Swiper wrapper height */\n        .swiper-wrapper {\n            max-height: 460px !important;\n        }\n\n        /* Ensure Swiper slides don't stretch */\n        .swiper-slide {\n            max-height: 460px !important;\n            display: flex !important;\n            align-items: center !important; /* Keep images centered */\n            justify-content: center !important;\n        }\n\n        /* Prevent images from exceeding the swiper height */\n        .swiper-slide img {\n            max-height: 100% !important;\n            width: auto !important;\n        }\n        \n        /* Keep the overall popup size unchanged */\n        .leaflet-popup-content {\n            max-height: 780px !important; /* Keep original popup height */\n            overflow-y: auto; /* Allow scrolling inside the popup if needed */\n        }\n\n        .swiper-clear {\n            clear: both;\n            margin-bottom: 1px;\n        }\n        </style>",e.setPopupContent(d),setTimeout((()=>{let e=document.querySelector(".swiper1 .swiper-slide img");if(e){!function(e){let t,n;var o=!(e<4),i=!(e<5);t=new Swiper(".swiper1",{autoHeight:!0,direction:"horizontal",allowTouchMove:!1,mousewheel:!1,slidesPerView:1,loop:!1}),n=new Swiper(".swiper2",{direction:"vertical",allowTouchMove:!0,mousewheel:!0,slidesPerView:3,spaceBetween:10,loop:o,breakpoints:{840:{slidesPerView:4,loop:i}},scrollbar:{el:".swiper-scrollbar",hide:!1,draggable:!0},on:{click:function(){let e=this.clickedSlide.firstChild.id.substring(3)-1;t.slideTo(e,1)},transitionEnd:function(){let e=this.realIndex;t.slideTo(e,1)}}}),I()}(parseInt(e.id.replace(/\D/g,""),10)||1)}}),300),setTimeout((()=>{document.querySelector(".close-popup").addEventListener("click",(function(){map.closePopup()}))}),300)}catch(e){console.error("Error fetching place details:",e)}}function M(){_&&(_.remove(),_=null),S&&(S.destroy(),S=null);const e=document.getElementById("feedback-message");e&&(e.textContent="",e.classList.remove("text-success","text-danger"));let t=document.querySelector(".modal-footer");t&&(t.style.display="none");const n=`\n        <div id="feedbackFormHtml">\n            <div class="feedback-modal">\n                <span style="color: #0087F7;"><h5>Feedback for ${window.currentPlaceName}</h5></span>\n                <form id="feedbackForm">\n                    <div class="form-group">\n                        <label for="feedbackText">Feedback / Correction / Comment:</label>\n                        <textarea id="feedbackText" class="form-control" required style="height: 130px;"></textarea>\n                    </div>\n                    <div class="form-group">\n                        <label>Upload Images (optional):</label>\n                        <div id="dropzoneFeedback" class="dropzone mt-4 border-dashed rounded-2 min-h-0"></div>\n                    </div>\n                    <div class="form-group d-flex justify-content-between">\n                        <div style="width: 48%;">\n                            <label for="userName">Name:</label>\n                            <input type="text" id="userName" class="form-control" required>\n                        </div>\n                        <div style="width: 48%;">\n                            <label for="userEmail">E-Mail:</label>\n                            <input type="email" id="userEmail" class="form-control" required>\n                            <small class="text-danger d-none" id="emailError">Please enter a valid email address.</small>\n                        </div>\n                    </div>\n                    <button type="submit" class="btn btn-success">Submit</button>\n                    <button type="button" class="btn btn-secondary" onclick="cancelFeedback()">Cancel</button>\n                </form>\n            </div>\n        </div>\n    `,o=document.querySelector(".leaflet-popup-content");o?(o.insertAdjacentHTML("beforeend",n),_=document.getElementById("feedbackFormHtml"),setTimeout((()=>{const e=document.querySelector(".leaflet-popup-content");e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}),50),S=new Dropzone("#dropzoneFeedback",{url:"/upload",autoProcessQueue:!1,maxFiles:5,maxFilesize:100,acceptedFiles:"image/*",addRemoveLinks:!1,dictDefaultMessage:"Drag & drop files here or click to upload",clickable:!0,init:function(){const e=this;this.on("addedfile",(function(t){const n=t.previewElement,o=document.createElement("img");o.src="/assets/images/imgdelete.png",o.alt="Delete",o.classList.add("delete-icon"),n.querySelector(".dz-image").appendChild(o),o.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),e.removeFile(t)}))})),this.on("removedfile",(function(e){console.log("File removed:",e.name)}))}}),document.getElementById("userEmail").addEventListener("input",(function(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value);document.getElementById("emailError").classList.toggle("d-none",e)})),document.getElementById("feedbackForm").addEventListener("submit",(async function(e){e.preventDefault();const t=new FormData;t.append("name",window.currentPlaceName),t.append("id",window.currentPlaceId),t.append("strPlacemarkId",window.currentStrPlacemarkId),t.append("feedbackText",document.getElementById("feedbackText").value),t.append("userName",document.getElementById("userName").value),t.append("userEmail",document.getElementById("userEmail").value),S.files.forEach((e=>{t.append("images",e)}));try{const e=await fetch("http://localhost:3000/api/send-feedback",{method:"POST",body:t}),n=await e.json();_&&(_.remove(),_=null),S&&(S.destroy(),S=null);const o=document.getElementById("feedback-message");n.success?(o.textContent=n.message||"Feedback submitted successfully!",o.classList.remove("text-danger"),o.classList.add("text-success")):(o.textContent=n.error||"An error occurred.",o.classList.remove("text-success"),o.classList.add("text-danger")),document.querySelector(".modal-footer").style.display="flex"}catch(e){console.error("Submission error:",e)}}))):console.error("Popup content not found!")}function z(){_&&(_.remove(),_=null),S&&(S.destroy(),S=null),document.querySelector(".modal-footer").style.display="flex"}function F(){if(!window.map||!window.placesLayerPG)return console.error("Map or placesLayerPG is not defined. Retrying in 500ms..."),void setTimeout(F,500);console.log("Initializing PG spots module..."),window.showFeebackForm=M,window.cancelFeedback=z;const e=L.markerClusterGroup({disableClusteringAtZoom:9,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,maxClusterRadius:250,iconCreateFunction:function(e){return L.divIcon({html:`<div class="cluster-marker">${e.getChildCount()}</div>`,className:"pg-cluster-icon",iconSize:L.point(30,30)})}});window.placesLayerPG.addLayer(e);let t=null,n=null;function o(){window.map.hasLayer(window.placesLayerPG)?(n&&clearTimeout(n),n=setTimeout((()=>{t&&t.abort(),t=new AbortController;const n=t.signal,o=window.map.getBounds(),i=o.getNorthWest().lat,a=o.getNorthWest().lng,r=o.getSouthEast().lat,s=o.getSouthEast().lng;fetch(`http://localhost:3000/api/places?nw_lat=${i}&nw_lng=${a}&se_lat=${r}&se_lng=${s}&type=TO&type=TOW&type=TH`,{signal:n}).then((e=>e.json())).then((o=>{n.aborted||(e.clearLayers(),L.geoJSON(o,{pointToLayer:function(e,t){return L.marker(t,{icon:L.canvasIcon({iconSize:[50,50],iconAnchor:[15,15],drawIcon:function(t,n){if("icon"===n){var o=t.getContext("2d"),i=L.point(this.options.iconSize),a=L.point(i.x/2,i.y/2);o.clearRect(0,0,i.x,i.y);let n=P(e.properties.direction||"");o.beginPath(),n.forEach((e=>{let[t,n]=e;o.moveTo(a.x,a.y),o.arc(a.x,a.y,a.x,(t-90)*Math.PI/180,(n-90)*Math.PI/180,!1),o.lineTo(a.x,a.y)})),o.fillStyle="orange",o.fill(),o.closePath(),o.beginPath(),o.arc(a.x,a.y,a.x/4,0,2*Math.PI),o.fillStyle="green",o.fill(),o.closePath()}}})})},onEachFeature:function(t,n){if(t.properties){let e=`<b>${t.properties.name}</b><br>\n                                                    Type: ${t.properties.type}<br>\n                                                    Direction: ${t.properties.direction}<br>\n                                                    <i>Loading details...</i>`,o=L.responsivePopup({hasTip:!0,autoPan:!1,offset:[15,25],maxWidth:900,maxHeight:780}).setContent(e);n.bindPopup(o),n.on("popupopen",(async function(){await D(n,t.properties.id)}))}e.addLayer(n)}}),t=null)})).catch((e=>{"AbortError"!==e.name&&console.error("Error fetching PG places:",e)}))}),300)):console.log("PG layer not visible, skipping fetch")}window.fetchPlacesPG=o,window.map.hasLayer(window.placesLayerPG)&&o(),console.log("PG spots module initialized")}function G(){if(!window.map||!window.placesLayerHG)return console.error("Map or placesLayerHG is not defined. Retrying in 500ms..."),void setTimeout(G,500);console.log("Initializing HG spots module..."),window.showFeebackForm=M,window.cancelFeedback=z;const e=L.markerClusterGroup({disableClusteringAtZoom:9,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,maxClusterRadius:250,iconCreateFunction:function(e){return L.divIcon({html:`<div class="cluster-marker">${e.getChildCount()}</div>`,className:"hg-cluster-icon",iconSize:L.point(30,30)})}});window.placesLayerHG.addLayer(e);let t=null,n=null;function o(){n&&clearTimeout(n),n=setTimeout((()=>{t&&t.abort(),t=new AbortController;const n=t.signal,o=window.map.getBounds(),i=o.getNorthWest().lat,a=o.getNorthWest().lng,r=o.getSouthEast().lat,s=o.getSouthEast().lng;fetch(`http://localhost:3000/api/places?nw_lat=${i}&nw_lng=${a}&se_lat=${r}&se_lng=${s}&type=TO-HG&type=TOW-HG`,{signal:n}).then((e=>e.json())).then((o=>{n.aborted||(e.clearLayers(),L.geoJSON(o,{pointToLayer:function(e,t){return L.marker(t,{icon:L.canvasIcon({iconSize:[50,50],iconAnchor:[15,15],drawIcon:function(t,n){if("icon"===n){var o=t.getContext("2d"),i=L.point(this.options.iconSize),a=L.point(i.x/2,i.y/2);o.clearRect(0,0,i.x,i.y);let n=P(e.properties.direction||"");o.beginPath(),n.forEach((e=>{let[t,n]=e;o.moveTo(a.x,a.y),o.arc(a.x,a.y,a.x,(t-90)*Math.PI/180,(n-90)*Math.PI/180,!1),o.lineTo(a.x,a.y)})),o.fillStyle="orange",o.fill(),o.closePath(),o.beginPath(),o.arc(a.x,a.y,a.x/4,0,2*Math.PI),o.fillStyle="green",o.fill(),o.closePath()}}})})},onEachFeature:function(t,n){if(t.properties){let e=`<b>${t.properties.name}</b><br>\n                                                    Type: ${t.properties.type}<br>\n                                                    Direction: ${t.properties.direction}<br>\n                                                    <i>Loading details...</i>`,o=L.responsivePopup({hasTip:!0,autoPan:!1,offset:[15,25],maxWidth:900,maxHeight:780}).setContent(e);n.bindPopup(o),n.on("popupopen",(async function(){await D(n,t.properties.id)}))}e.addLayer(n)}}),t=null)})).catch((e=>{"AbortError"!==e.name&&console.error("Error fetching HG places:",e)}))}),300)}window.fetchPlacesHG=o,window.map.hasLayer(window.placesLayerHG)&&o(),console.log("PG spots module initialized")}function N(){if(!window.map||!window.placesLayerLZ)return void setTimeout(N,500);console.log("Initializing LZ spots module...");const e=L.markerClusterGroup({disableClusteringAtZoom:9,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,maxClusterRadius:250,iconCreateFunction:function(e){return L.divIcon({html:`<div class="cluster-marker">${e.getChildCount()}</div>`,className:"lz-cluster-icon",iconSize:L.point(30,30)})}});window.placesLayerLZ.addLayer(e);let t=null,n=null;function o(){n&&clearTimeout(n),n=setTimeout((()=>{t&&t.abort(),t=new AbortController;const n=t.signal,o=window.map.getBounds(),i=o.getNorthWest().lat,a=o.getNorthWest().lng,r=o.getSouthEast().lat,s=o.getSouthEast().lng;fetch(`http://localhost:3000/api/places?nw_lat=${i}&nw_lng=${a}&se_lat=${r}&se_lng=${s}&type=LZ`,{signal:n}).then((e=>e.json())).then((o=>{n.aborted||(e.clearLayers(),L.geoJSON(o,{pointToLayer:function(e,t){return L.marker(t,{icon:L.icon({iconUrl:"../assets/images/windsock.png",iconSize:[20,20],iconAnchor:[20,20]})})},onEachFeature:function(t,n){if(t.properties){let e=`<b>${t.properties.name}</b><br>\n                                                    Type: ${t.properties.type}<br>\n                                                    Direction: ${t.properties.direction}<br>\n                                                    <i>Loading details...</i>`,o=L.responsivePopup({hasTip:!0,autoPan:!1,offset:[15,25],maxWidth:900,maxHeight:780}).setContent(e);n.bindPopup(o),n.on("popupopen",(async function(){await D(n,t.properties.id)}))}e.addLayer(n)}}),t=null)})).catch((e=>{"AbortError"!==e.name&&console.error("Error fetching LZ places:",e)}))}),300)}window.fetchPlacesLZ=o,window.map.hasLayer(window.placesLayerLZ)&&o(),console.log("PG spots module initialized")}document.addEventListener("map_initialized",(function(){console.log("Map initialized event received in PG spots module"),setTimeout(F,100)})),setTimeout((()=>{window.mapInitialized&&(console.log("Backup initialization for PG spots module"),F())}),1e3),document.addEventListener("map_initialized",(function(){console.log("Map initialized event received in HG spots module"),setTimeout(G,100)})),setTimeout((()=>{window.mapInitialized&&(console.log("Backup initialization for HG spots module"),G())}),1e3),document.addEventListener("map_initialized",(function(){console.log("Map initialized event received in LZ spots module"),setTimeout(N,100)})),setTimeout((()=>{window.mapInitialized&&(console.log("Backup initialization for LZ spots module"),N())}),1e3),document.addEventListener("DOMContentLoaded",(function(){console.log("DOM content loaded, initializing map");const e=function(){window.map=L.map("map",{center:[50,6],zoom:11,zoomControl:!1,layers:[]}),L.control.zoom({position:"bottomright"}).addTo(window.map);var e=L.tileLayer("https://tile.jawg.io/jawg-terrain/{z}/{x}/{y}{r}.png?access-token=qBDXRu1KSlZGhx4ROlceBD9hcxmrumL34oj29tUkzDVkafqx08tFWPeRNb0KSoKa",{attribution:"Jawg.io terrain"}).addTo(window.map),t=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}),n=L.tileLayer("https://topo.xcontest.app/elev/{z}/{x}/{y}.jpg",{attribution:'XContest&copy; <a href="https://www.xcontest.org">XContest</a>',className:"xcontest-layer"}),o=L.mapboxGL({style:"/assets/maps/maptiler_terrain_wob_testxc.json",apiKey:"c49iG8J3xvAkgCSZ8M8v",className:"xcmap-layer",attribution:"MapTiler Terrain"}),a=L.tileLayer("http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{attribution:"Map data: Google",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]});L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"© Esri",id:"MapID"}),L.mapboxGL({style:"/assets/maps/maptiler_terrain_wob_testxc.json",apiKey:"c49iG8J3xvAkgCSZ8M8v",className:"xcmap-layer satellite-overlay",attribution:"MapTiler Terrain"}),L.tileLayer("https://api.maptiler.com/tiles/contours/{z}/{x}/{y}.pbf?key=c49iG8J3xvAkgCSZ8M8v",{attribution:"MapTiler",opacity:.8,className:"contour-overlay",style:{color:"#ffffff",weight:1,opacity:.8}}),window.windLayer=L.layerGroup().addTo(window.map),window.oaipMap=L.tileLayer("https://a.api.tiles.openaip.net/api/data/openaip/{z}/{x}/{y}.png?apiKey=171189a4d43c6578ce63758f28363cb3",{attribution:'OpenAIP&copy; <a href="https://www.openaip.net">OpenAIP</a>',className:"oaip-layer"}),window.airspaceEFG=L.layerGroup([],{attribution:'OpenAIP&copy; <a href="https://www.openaip.net">OpenAIP</a>'}),window.airspaceGliding=L.layerGroup([],{attribution:'OpenAIP&copy; <a href="https://www.openaip.net">OpenAIP</a>'}),window.airspaceNotam=L.layerGroup([],{attribution:'OpenAIP&copy; <a href="https://www.openaip.net">OpenAIP</a>'}),window.airspaceXC=L.layerGroup([],{attribution:'Xcontest&copy; <a href="https://www.openaip.net">OpenAIP</a>'}),window.placesLayerPG=L.layerGroup([],{attribution:'&copy; <a href="https://paraglidingspots.com">paraglidingspots.com</a>'}),window.placesLayerHG=L.layerGroup([],{attribution:'&copy; <a href="https://paraglidingspots.com">paraglidingspots.com</a>'}),window.placesLayerLZ=L.layerGroup([],{attribution:'&copy; <a href="https://paraglidingspots.com">paraglidingspots.com</a>'});var r={label:"Base Maps",children:[{label:"Terrain",layer:e},{label:"XContest",layer:L.layerGroup([n,o])},{label:"OpenStreetMap",layer:t},{label:"Satellite",layer:a}]},s={label:"Overlays",children:[{label:"Wind Stations",children:[{label:"Wind Stations",layer:window.windLayer,checked:!0}]},{label:"Spots",children:[{label:"Take-off PG",layer:window.placesLayerPG},{label:"Take-off HG",layer:window.placesLayerHG},{label:"Landing Zones",layer:window.placesLayerLZ}]},{label:"Airspaces",children:[{html:'\n                            <div class="airspace-limit-control">\n                                Active: \n                                <select class="lower-limit-select" id="airspaceLowerLimit">\n                                    <option value="Today" selected>Today</option>\n                                    <option value="D+1">D+1</option>\n                                    <option value="D+2">D+1</option>\n                                    <option value="D+3">D+1</option>\n                                    <option value="D+4">D+1</option>\n                                    <option value="D+5">D+5</option>\n                                    <option value="D+6">D+6</option>\n                                    <option value="All">All</option>\n                                </select>\n                            </div>\n                        '},{html:'\n                          <div class="airspace-limit-control">\n                              ↧ below: \n                              <select class="lower-limit-select" id="airspaceLowerLimit">\n                                  <option value="2000">2000m</option>\n                                  <option value="2500">2500m</option>\n                                  <option value="3000" selected>3000m</option>\n                                  <option value="3500">3500m</option>\n                                  <option value="4000">4000m</option>\n                                  <option value="4500">4500m</option>\n                              </select>\n                          </div>\n                      '},{label:"Airspaces",layer:window.airspaceEFG},{label:"Gliding",layer:window.airspaceGliding},{label:"Notam",layer:window.airspaceNotam},{label:"XContest",layer:window.airspaceXC},{label:"OpenAIP Map",layer:window.oaipMap}]}]};new i({position:"bottomright"}).addTo(window.map),L.control.locate({drawCircle:!1,keepCurrentZoomLevel:!0,position:"bottomright",icon:"locate",iconLoading:"loading",iconElementTag:"div"}).addTo(window.map),L.control.layers.tree(r,s,{namedToggle:!0,collapsed:!1}).addTo(window.map).collapseTree().expandSelected(),window.map.on("moveend",(function(){console.log("Map moveend event triggered"),window.map.hasLayer(window.windLayer)&&"function"==typeof window.fetchWindStations&&(console.log("Fetching wind stations after map move..."),window.fetchWindStations()),window.map.hasLayer(window.placesLayerPG)&&window.fetchPlacesPG&&(console.log("Fetching PG spots after map move..."),window.fetchPlacesPG()),window.map.hasLayer(window.placesLayerHG)&&window.fetchPlacesHG&&(console.log("Fetching HG spots after map move..."),window.fetchPlacesHG()),window.map.hasLayer(window.placesLayerLZ)&&window.fetchPlacesLZ&&(console.log("Fetching LZ spots after map move..."),window.fetchPlacesLZ()),window.map.hasLayer(window.airspaceEFG)&&"function"==typeof window.fetchAirspaces&&(console.log("Fetching airspaces after map move..."),window.fetchAirspaces()),window.map.hasLayer(window.airspaceGliding)&&"function"==typeof window.fetchAirspacesGliding&&(console.log("Fetching airspaces after map move..."),window.fetchAirspacesGliding()),window.map.hasLayer(window.airspaceNotam)&&"function"==typeof window.fetchAirspacesNotam&&(console.log("Fetching airspaces after map move..."),window.fetchAirspacesNotam()),window.map.hasLayer(window.airspaceXC)&&"function"==typeof window.fetchAirspacesXC&&(console.log("Fetching airspaces after map move..."),window.fetchAirspacesXC())})),document.getElementById("airspaceLowerLimit").addEventListener("change",(function(e){console.log("Selected limit:",e.target.value)})),window.map.on("layeradd",(function(e){const t=e.layer;t===window.windLayer&&"function"==typeof window.fetchWindStations?window.fetchWindStations():t===window.placesLayerPG&&window.fetchPlacesPG?window.fetchPlacesPG():t===window.placesLayerHG&&window.fetchPlacesHG?window.fetchPlacesHG():t===window.placesLayerLZ&&window.fetchPlacesLZ?window.fetchPlacesLZ():t===window.airspaceEFG&&"function"==typeof window.fetchAirspaces?window.fetchAirspaces():t===window.airspaceGliding&&"function"==typeof window.fetchAirspacesGliding?window.fetchAirspacesGliding():t===window.airspaceNotam&&"function"==typeof window.fetchAirspacesNotam?window.fetchAirspacesNotam():t===window.airspaceXC&&"function"==typeof window.fetchAirspacesXC&&window.fetchAirspacesXC()})),window.mapInitialized=!0,console.log("Map initialization complete");const l=new Event("map_initialized");return document.dispatchEvent(l),console.log("Map initialized event dispatched"),window.map}();navigator.geolocation.getCurrentPosition((t=>{console.log("Geolocation received");const n=t.coords.latitude,o=t.coords.longitude;e.setView([n,o],10);const i=new CustomEvent("user_location_ready",{detail:{lat:n,lng:o}});document.dispatchEvent(i),console.log("User location event dispatched")}))})),document.addEventListener("user_location_ready",(function(e){console.log("Handling user location ready event"),setTimeout((()=>{if("function"==typeof window.fetchWindStations&&window.mapInitialized&&window.map.hasLayer(window.windLayer))try{console.log("Fetching wind stations"),window.fetchWindStations(e.detail.lat,e.detail.lng)}catch(e){console.error("Error fetching wind stations:",e)}if("function"==typeof window.fetchAirspaces&&window.mapInitialized&&window.map.hasLayer(window.airspaceEFG))try{console.log("Fetching airspaces"),window.fetchAirspaces()}catch(e){console.error("Error fetching airspaces:",e)}if("function"==typeof window.fetchAirspacesGliding&&window.mapInitialized&&window.map.hasLayer(window.airspaceGliding))try{console.log("Fetching airspaces"),window.fetchAirspacesGliding()}catch(e){console.error("Error fetching airspaces:",e)}if("function"==typeof window.fetchAirspacesNotam&&window.mapInitialized&&window.map.hasLayer(window.airspaceNotam))try{console.log("Fetching airspaces"),window.fetchAirspacesNotam()}catch(e){console.error("Error fetching airspaces:",e)}if("function"==typeof window.fetchAirspacesXC&&window.mapInitialized&&window.map.hasLayer(window.airspaceXC))try{console.log("Fetching airspaces"),window.fetchAirspacesXC()}catch(e){console.error("Error fetching airspaces:",e)}}),500)}))},5358:(e,t,n)=>{var o={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=5358}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=t,e=[],o.O=(t,n,i,a)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,i,a]=e[d],s=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,i,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[r,s,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(l)var d=l(o)}for(t&&t(n);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},n=self.webpackChunkwind_station_app=self.webpackChunkwind_station_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[96],(()=>o(2854)));i=o.O(i)})();
//# sourceMappingURL=main.71ceae8b3a2a33307b39.js.map