{"version":3,"file":"js/main.9aae1729286bb44ea4ba.js","mappings":"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","sources":["webpack://wind-station-app/./src/public/assets/js/L.Control.Layers.Tree.js","webpack://wind-station-app/./src/components/InfoControl.js","webpack://wind-station-app/./src/components/airspaces.js","webpack://wind-station-app/./src/components/windstations.js","webpack://wind-station-app/./src/components/spotsHelper.js","webpack://wind-station-app/./src/components/spotsPG.js","webpack://wind-station-app/./src/components/spotsHG.js","webpack://wind-station-app/./src/components/spotsLZ.js","webpack://wind-station-app/./src/public/assets/js/index.js"],"sourcesContent":["/*\n * Control like L.Control.Layers, but showing layers in a tree.\n * Do not forget to include the css file.\n */\nconsole.log(\"L.Control.Layers.Tree has been loaded!\");\n(function(L) {\n    if (typeof L === 'undefined') {\n        throw new Error('Leaflet must be included first');\n    }\n\n    /*\n     * L.Control.Layers.Tree extends L.Control.Layers because it reuses\n     * most of its functionality. Only the HTML creation is different.\n     */\n    L.Control.Layers.Tree = L.Control.Layers.extend({\n        options: {\n            closedSymbol: '+',\n            openedSymbol: '&minus;',\n            spaceSymbol: ' ',\n            selectorBack: false,\n            namedToggle: false,\n            collapseAll: '',\n            expandAll: '',\n            labelIsSelector: 'both',\n        },\n\n        // Class names are error prone texts, so write them once here\n        _initClassesNames: function() {\n            this.cls = {\n                children: 'leaflet-layerstree-children',\n                childrenNopad: 'leaflet-layerstree-children-nopad',\n                hide: 'leaflet-layerstree-hide',\n                closed: 'leaflet-layerstree-closed',\n                opened: 'leaflet-layerstree-opened',\n                space: 'leaflet-layerstree-header-space',\n                pointer: 'leaflet-layerstree-header-pointer',\n                header: 'leaflet-layerstree-header',\n                neverShow: 'leaflet-layerstree-nevershow',\n                node: 'leaflet-layerstree-node',\n                name: 'leaflet-layerstree-header-name',\n                label: 'leaflet-layerstree-header-label',\n                selAllCheckbox: 'leaflet-layerstree-sel-all-checkbox',\n            };\n        },\n\n        initialize: function(baseTree, overlaysTree, options) {\n            this._scrollTop = 0;\n            this._initClassesNames();\n            this._baseTree = null;\n            this._overlaysTree = null;\n            L.Util.setOptions(this, options);\n            L.Control.Layers.prototype.initialize.call(this, null, null, options);\n            this._setTrees(baseTree, overlaysTree);\n        },\n\n        setBaseTree: function(tree) {\n            return this._setTrees(tree);\n        },\n\n        setOverlayTree: function(tree) {\n            return this._setTrees(undefined, tree);\n        },\n\n        addBaseLayer: function(_layer, _name) {\n            throw 'addBaseLayer is disabled';\n        },\n\n        addOverlay: function(_layer, _name) {\n            throw 'addOverlay is disabled';\n        },\n\n        removeLayer: function(_layer) {\n            throw 'removeLayer is disabled';\n        },\n\n        collapse: function() {\n            this._scrollTop = this._sect().scrollTop;\n            return L.Control.Layers.prototype.collapse.call(this);\n        },\n\n        expand: function() {\n            L.Control.Layers.prototype.expand.call(this);\n            this._sect().scrollTop = this._scrollTop;\n        },\n\n        onAdd: function(map) {\n            function changeName(layer) {\n                if (layer._layersTreeName) {\n                    toggle.innerHTML = layer._layersTreeName;\n                }\n            }\n\n            var ret = L.Control.Layers.prototype.onAdd.call(this, map);\n            if (this.options.namedToggle) {\n                var toggle = this._container.getElementsByClassName('leaflet-control-layers-toggle')[0];\n                L.DomUtil.addClass(toggle, 'leaflet-layerstree-named-toggle');\n                // Start with this value...\n                map.eachLayer(function(layer) {changeName(layer);});\n                // ... and change it whenever the baselayer is changed.\n                map.on('baselayerchange', function(e) {changeName(e.layer);}, this);\n            }\n            return ret;\n        },\n\n        // Expands the whole tree (base other overlays)\n        expandTree: function(overlay) {\n            var container = overlay ? this._overlaysList : this._baseLayersList;\n            if (container) {\n                this._applyOnTree(container, false);\n            }\n            return this._localExpand();\n        },\n\n        // Collapses the whole tree (base other overlays)\n        collapseTree: function(overlay) {\n            var container = overlay ? this._overlaysList : this._baseLayersList;\n            if (container) {\n                this._applyOnTree(container, true);\n            }\n            return this._localExpand();\n        },\n\n        // Expands the tree, only to show the selected inputs\n        expandSelected: function(overlay) {\n            function iter(el) {\n                // Function to iterate the whole DOM upwards\n                var p = el.parentElement;\n                if (p) {\n                    if (L.DomUtil.hasClass(p, that.cls.children) &&\n                        !L.DomUtil.hasClass(el, that.cls.childrenNopad)) {\n                        L.DomUtil.removeClass(p, hide);\n                    }\n\n                    if (L.DomUtil.hasClass(p, that.cls.node)) {\n                        var h = p.getElementsByClassName(that.cls.header)[0];\n                        that._applyOnTree(h, false);\n                    }\n                    iter(p);\n                }\n            }\n\n            var that = this;\n            var container = overlay ? this._overlaysList : this._baseLayersList;\n            if (!container) return this;\n            var hide = this.cls.hide;\n            var inputs = this._layerControlInputs || container.getElementsByTagName('input');\n            for (var i = 0; i < inputs.length; i++) {\n                // Loop over every (valid) input.\n                var input = inputs[i];\n                if (this._getLayer && !!this._getLayer(input.layerId).overlay != !!overlay) continue;\n                if (input.checked) {\n                    // Get out of the header,\n                    // to not open the possible (but rare) children\n                    iter(input.parentElement.parentElement.parentElement.parentElement);\n                }\n            }\n            return this._localExpand();\n        },\n\n        // \"private\" methods, not exposed in the API\n        _sect: function() {\n            // to keep compatibility after 1.3 https://github.com/Leaflet/Leaflet/pull/6380\n            return this._section || this._form;\n        },\n\n        _setTrees: function(base, overlays) {\n            var id = 0; // to keep unique id\n            function iterate(tree, output, overlays) {\n                if (tree && tree.layer) {\n                    if (!overlays) {\n                        tree.layer._layersTreeName = tree.name || tree.label;\n                    }\n                    output[id++] = tree.layer;\n                }\n                if (tree && tree.children && tree.children.length) {\n                    tree.children.forEach(function(child) {\n                        iterate(child, output, overlays);\n                    });\n                }\n                return output;\n            }\n\n            // We accept arrays, but convert into an object with children\n            function forArrays(input) {\n                if (Array.isArray(input)) {\n                    return {noShow: true, children: input};\n                } else {\n                    return input;\n                }\n            }\n\n            // Clean everything, and start again.\n            if (this._layerControlInputs) {\n                this._layerControlInputs = [];\n            }\n            for (var i = 0; i < this._layers.length; ++i) {\n                this._layers[i].layer.off('add remove', this._onLayerChange, this);\n            }\n            this._layers = [];\n\n            if (base !== undefined) this._baseTree = forArrays(base);\n            if (overlays !== undefined) this._overlaysTree = forArrays(overlays);\n\n            var bflat = iterate(this._baseTree, {});\n            for (var j in bflat) {\n                this._addLayer(bflat[j], j);\n            }\n\n            var oflat = iterate(this._overlaysTree, {}, true);\n            for (var k in oflat) {\n                this._addLayer(oflat[k], k, true);\n            }\n            return (this._map) ? this._update() : this;\n        },\n\n        // Used to update the vertical scrollbar\n        _localExpand: function() {\n            if (this._map && L.DomUtil.hasClass(this._container, 'leaflet-control-layers-expanded')) {\n                var top = this._sect().scrollTop;\n                this.expand();\n                this._sect().scrollTop = top; // to keep the scroll location\n                this._scrollTop = top;\n            }\n            return this;\n        },\n\n        // collapses or expands the tree in the container.\n        _applyOnTree: function(container, collapse) {\n            var iters = [\n                {cls: this.cls.children, hide: collapse},\n                {cls: this.cls.opened, hide: collapse},\n                {cls: this.cls.closed, hide: !collapse},\n            ];\n            iters.forEach(function(it) {\n                var els = container.getElementsByClassName(it.cls);\n                for (var i = 0; i < els.length; i++) {\n                    var el = els[i];\n                    if (L.DomUtil.hasClass(el, this.cls.childrenNopad)) {\n                        // do nothing\n                    } else if (it.hide) {\n                        L.DomUtil.addClass(el, this.cls.hide);\n                    } else {\n                        L.DomUtil.removeClass(el, this.cls.hide);\n                    }\n                }\n            }, this);\n        },\n\n        // it is called in the original _update, and shouldn't do anything.\n        _addItem: function(_obj) {\n        },\n\n        // overwrite _update function in Control.Layers\n        _update: function() {\n            if (!this._container) { return this; }\n            L.Control.Layers.prototype._update.call(this);\n            this._addTreeLayout(this._baseTree, false);\n            this._addTreeLayout(this._overlaysTree, true);\n            return this._localExpand();\n        },\n\n        // Create the DOM objects for the tree\n        _addTreeLayout: function(tree, overlay) {\n            if (!tree) return;\n            var container = overlay ? this._overlaysList : this._baseLayersList;\n            this._expandCollapseAll(overlay, this.options.collapseAll, this.collapseTree);\n            this._expandCollapseAll(overlay, this.options.expandAll, this.expandTree);\n            this._iterateTreeLayout(tree, container, overlay, [], tree.noShow);\n            if (this._checkDisabledLayers) {\n                // to keep compatibility\n                this._checkDisabledLayers();\n            }\n        },\n\n        // Create the \"Collapse all\" or expand, if needed.\n        _expandCollapseAll: function(overlay, text, fn, ctx) {\n            var container = overlay ? this._overlaysList : this._baseLayersList;\n            ctx = ctx ? ctx : this;\n            if (text) {\n                var o = document.createElement('div');\n                o.className = 'leaflet-layerstree-expand-collapse';\n                container.appendChild(o);\n                o.innerHTML = text;\n                o.tabIndex = 0;\n                L.DomEvent.on(o, 'click keydown', function(e) {\n                    if (e.type !== 'keydown' || e.keyCode === 32) {\n                        o.blur();\n                        fn.call(ctx, overlay);\n                        this._localExpand();\n                    }\n                }, this);\n            }\n        },\n\n        // recursive function to create the DOM children\n        _iterateTreeLayout: function(tree, container, overlay, selAllNodes, noShow) {\n            if (!tree) return;\n            function creator(type, cls, append, innerHTML) {\n                var obj = L.DomUtil.create(type, cls, append);\n                if (innerHTML) obj.innerHTML = innerHTML;\n                return obj;\n            }\n\n            // create the header with it fields\n            var header = creator('div', this.cls.header, container);\n            var sel = creator('span');\n            var entry = creator('span');\n            var closed = creator('span', this.cls.closed, sel, this.options.closedSymbol);\n            var opened = creator('span', this.cls.opened, sel, this.options.openedSymbol);\n            var space = creator('span', this.cls.space, null, this.options.spaceSymbol);\n            if (this.options.selectorBack) {\n                sel.insertBefore(space, closed);\n                header.appendChild(entry);\n                header.appendChild(sel);\n            } else {\n                sel.appendChild(space);\n                header.appendChild(sel);\n                header.appendChild(entry);\n            }\n\n            function updateSelAllCheckbox(ancestor) {\n                var selector = ancestor.querySelector('input[type=checkbox]');\n                var selectedAll = true;\n                var selectedNone = true;\n                var inputs = ancestor.querySelectorAll('input[type=checkbox]');\n                [].forEach.call(inputs, function(inp) { // to work in node for tests\n                    if (inp === selector) {\n                        // ignore\n                    } else if (inp.indeterminate) {\n                        selectedAll = false;\n                        selectedNone = false;\n                    } else if (inp.checked) {\n                        selectedNone = false;\n                    } else if (!inp.checked) {\n                        selectedAll = false;\n                    }\n                });\n                if (selectedAll) {\n                    selector.indeterminate = false;\n                    selector.checked = true;\n                } else if (selectedNone) {\n                    selector.indeterminate = false;\n                    selector.checked = false;\n                } else {\n                    selector.indeterminate = true;\n                    selector.checked = false;\n                }\n            }\n\n            function manageSelectorsAll(input, ctx) {\n                selAllNodes.forEach(function(ancestor) {\n                    L.DomEvent.on(input, 'click', function(_ev) {\n                        updateSelAllCheckbox(ancestor);\n                    }, ctx);\n                }, ctx);\n            }\n\n            var selAll;\n            if (tree.selectAllCheckbox) {\n                selAll = this._createCheckboxElement(false);\n                selAll.className += ' ' + this.cls.selAllCheckbox;\n            }\n\n            var hide = this.cls.hide; // To toggle state\n            // create the children group, with the header event click\n            if (tree.children) {\n                var children = creator('div', this.cls.children, container);\n                var sensible = tree.layer ? sel : header;\n                L.DomUtil.addClass(sensible, this.cls.pointer);\n                sensible.tabIndex = 0;\n                L.DomEvent.on(sensible, 'click keydown', function(e) {\n                    // leaflet internal flag to prevent click propagation and collapsing tree on mobile browsers\n                    if (this._preventClick) {\n                        return;\n                    }\n                    if (e.type === 'keydown' && e.keyCode !== 32) {\n                        return;\n                    }\n                    sensible.blur();\n\n                    if (L.DomUtil.hasClass(opened, hide)) {\n                        // it is not opened, so open it\n                        L.DomUtil.addClass(closed, hide);\n                        L.DomUtil.removeClass(opened, hide);\n                        L.DomUtil.removeClass(children, hide);\n                    } else {\n                        // close it\n                        L.DomUtil.removeClass(closed, hide);\n                        L.DomUtil.addClass(opened, hide);\n                        L.DomUtil.addClass(children, hide);\n                    }\n                    this._localExpand();\n                }, this);\n                if (selAll) {\n                    selAllNodes.splice(0, 0, container);\n                }\n                tree.children.forEach(function(child) {\n                    var node = creator('div', this.cls.node, children);\n                    this._iterateTreeLayout(child, node, overlay, selAllNodes);\n                }, this);\n                if (selAll) {\n                    selAllNodes.splice(0, 1);\n                }\n            } else {\n                // no children, so the selector makes no sense.\n                L.DomUtil.addClass(sel, this.cls.neverShow);\n            }\n\n            // make (or not) the label clickable to toggle the layer\n            var labelType;\n            if (tree.layer) {\n                if ((this.options.labelIsSelector === 'both') || // if option is set to both\n                    (overlay && this.options.labelIsSelector === 'overlay') || // if an overlay layer and options is set to overlay\n                    (!overlay && this.options.labelIsSelector === 'base')) { // if a base layer and option is set to base\n                    labelType = 'label';\n                } else { // if option is set to something else\n                    labelType = 'span';\n                }\n            } else {\n                labelType = 'span';\n            }\n            // create the input and label\n            var label = creator(labelType, this.cls.label, entry);\n            if (tree.layer) {\n                // now create the element like in _addItem\n                var checked = this._map.hasLayer(tree.layer);\n                var input;\n                var radioGroup = overlay ? tree.radioGroup : 'leaflet-base-layers_' + L.Util.stamp(this);\n                if (radioGroup) {\n                    input = this._createRadioElement(radioGroup, checked);\n                } else {\n                    input = this._createCheckboxElement(checked);\n                    manageSelectorsAll(input, this);\n                }\n                if (this._layerControlInputs) {\n                    // to keep compatibility with 1.0.3\n                    this._layerControlInputs.push(input);\n                }\n                input.layerId = L.Util.stamp(tree.layer);\n                L.DomEvent.on(input, 'click', this._onInputClick, this);\n                label.appendChild(input);\n            }\n\n            function isText(variable) {\n                return (typeof variable === 'string' || variable instanceof String);\n            }\n\n            function isFunction(functionToCheck) {\n                return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n            }\n\n            function selectAllCheckboxes(select, ctx) {\n                var inputs = container.getElementsByTagName('input');\n                for (var i = 0; i < inputs.length; i++) {\n                    var input = inputs[i];\n                    if (input.type !== 'checkbox') continue;\n                    input.checked = select;\n                    input.indeterminate = false;\n                }\n                ctx._onInputClick();\n            }\n            if (tree.selectAllCheckbox) {\n                // selAll is already created\n                label.appendChild(selAll);\n                if (isText(tree.selectAllCheckbox)) {\n                    selAll.title = tree.selectAllCheckbox;\n                }\n                L.DomEvent.on(selAll, 'click', function(ev) {\n                    ev.stopPropagation();\n                    selectAllCheckboxes(selAll.checked, this);\n                }, this);\n                updateSelAllCheckbox(container);\n                manageSelectorsAll(selAll, this);\n            }\n\n            creator('span', this.cls.name, label, tree.label);\n\n            // hide the button which doesn't fit the collapsed state, then hide children conditionally\n            L.DomUtil.addClass(tree.collapsed ? opened : closed, hide);\n            tree.collapsed && children && L.DomUtil.addClass(children, hide);\n\n            if (noShow) {\n                L.DomUtil.addClass(header, this.cls.neverShow);\n                L.DomUtil.addClass(children, this.cls.childrenNopad);\n            }\n\n            var eventeds = tree.eventedClasses;\n            if (!(eventeds instanceof Array)) {\n                eventeds = [eventeds];\n            }\n\n            for (var e = 0; e < eventeds.length; e++) {\n                var evented = eventeds[e];\n                if (evented && evented.className) {\n                    var obj = container.querySelector('.' + evented.className);\n                    if (obj) {\n                        L.DomEvent.on(obj, evented.event || 'click', (function(selectAll) {\n                            return function(ev) {\n                                ev.stopPropagation();\n                                var select = isFunction(selectAll) ? selectAll(ev, container, tree, this._map) : selectAll;\n                                if (select !== undefined && select !== null) {\n                                    selectAllCheckboxes(select, this);\n                                }\n                            };\n                        })(evented.selectAll), this);\n                    }\n                }\n            }\n        },\n\n        _createCheckboxElement: function(checked) {\n            var input = document.createElement('input');\n            input.type = 'checkbox';\n            input.className = 'leaflet-control-layers-selector';\n            input.defaultChecked = checked;\n            return input;\n        },\n\n    });\n\n    L.control.layers.tree = function(base, overlays, options) {\n        return new L.Control.Layers.Tree(base, overlays, options);\n    };\n \n})(L);\nconsole.log(\"L.Control.Layers.Tree has been loaded!\");\n","const L = window.L;\r\n\r\nconst InfoControl = L.Control.extend({\r\n    onAdd: function(map) {\r\n        var container = L.DomUtil.create('div', 'info-control leaflet-bar leaflet-control');\r\n        var link = L.DomUtil.create('a', 'leaflet-control-button', container);\r\n        link.href = '#';\r\n        var img = L.DomUtil.create('img', 'info-control-icon', link);\r\n        img.src = 'assets/images/info.png';\r\n        img.alt = 'Information';\r\n        img.style.width = '24px';\r\n        img.style.height = '24px';\r\n        img.style.padding = '4px';\r\n\r\n        L.DomEvent.disableClickPropagation(container);\r\n        L.DomEvent.on(link, 'click', function(e) {\r\n            L.DomEvent.stop(e);\r\n            var popupContent = '<div style=\"padding: 10px; max-width: 800px;\"><h3><img src=\"/assets/images/XCmapsLogo.png\" alt=\"XCmaps\"></h3>' +\r\n                '<p>You can contact us by email, or report any issue on github.</p>'+\r\n                '<p><strong>Credits:</strong></p>' +\r\n                '<ul>' +\r\n                '<li>Terrain tiles by <a href=\"https://www.jawg.io\" target=\"_blank\">Jawg</a></li>' +\r\n                '<li>OpenStreetMap</li>' +\r\n                '<li>XContest terrain data</li>' +\r\n                '<li>MapTiler for GL layer</li>' +\r\n                '<li>Airspaces: Airspaces are imported from openaip:\"OpenAIP data is not certified and must not be used for primary navigation or flight planning. Never rely on openAIP data! OpenAIP data contains errors. Using openAIP data may result in serious injury or death.\"</li>' +\r\n                '<li>Wind Stations: based on <a href=\"https://github.com/winds-mobi/\" target=\"_blank\">winds.mobi</a> by Yann Savary and additional data sources</li>' +\r\n                '<li>Spots: © <a href=\"https://paraglidingspots.com\" target=\"_blank\">paraglidingspots.com</a> by Karsten Ehlers</li>' +\r\n                '<li>and many more open source libraries, projects, and artwork</li>' +\r\n                '</ul>' +\r\n                '<p>This map combines various data sources for aerial sports navigation.</p></div>';\r\n            \r\n            L.popup({ className: 'info-popup', autoPan: true })\r\n                .setLatLng(map.getCenter())\r\n                .setContent(popupContent)\r\n                .openOn(map);\r\n        });\r\n\r\n        return container;\r\n    }\r\n});\r\n\r\nexport default InfoControl;","// airspaces.js\n\nfunction fetchAirspaces() {\n  // Make sure map is available\n  if (!window.map) {\n    console.error(\"Map not initialized yet\");\n    return;\n  }\n  \n  const center = window.map.getCenter();\n  const lat = center.lat.toFixed(6);\n  const lng = center.lng.toFixed(6);\n\n  // Use your proxy endpoint\n  const apiUrl = `${process.env.APP_DOMAIN}/api/airspaces?lat=${lat}&lng=${lng}&dist=200000`;\n\n  fetch(apiUrl)\n    .then(response => response.json())\n    .then(data => {\n      // Clear existing layers\n      window.airspaceEFG.clearLayers();\n\n      const airspaces = []; // Store polygons and data for later use\n\n      data.items.forEach(airspace => {\n        if (airspace.type === 0 && airspace.icaoClass === 4) {\n          return;\n        }\n\n        if (airspace.geometry && airspace.geometry.type === \"Polygon\") {\n          const coordinates = airspace.geometry.coordinates[0].map(coord => [coord[1], coord[0]]);\n\n          const lowerLimit = airspace.lowerLimit.value;\n          const color = lowerLimit === 0 ? \"red\" : \"blue\";\n\n          const airspaceTypeText = airspaceTypes[airspace.type] || \"Unknown\";\n          const icaoClassText = icaoClasses[airspace.icaoClass] || \"Unknown\";\n\n          const polygon = L.polygon(coordinates, {\n            color: color,\n            weight: 2,\n            fillOpacity: 0.3\n          });\n\n          // Store airspace data with its polygon\n          airspaces.push({ polygon, data: airspace });\n\n          window.airspaceEFG.addLayer(polygon);\n        }\n      });\n\n      console.log(`Added ${airspaces.length} airspaces to the map`);\n\n      // Remove any existing click listeners to avoid duplicates\n      window.map.off(\"click.airspaces\");\n      \n      // Add click event to detect overlapping airspaces\n      window.map.on(\"click.airspaces\", function (e) {\n        const clickedPoint = e.latlng;\n        const overlappingAirspaces = [];\n\n        airspaces.forEach(({ polygon, data }) => {\n          if (polygon.getBounds().contains(clickedPoint)) {\n            overlappingAirspaces.push(data);\n          }\n        });\n\n        if (overlappingAirspaces.length > 0) {\n          const popupContent = overlappingAirspaces.map(a => `\n            <b>${a.name}</b><br>\n            Type: ${airspaceTypes[a.type] || \"Unknown\"}<br>\n            ICAO Class: ${icaoClasses[a.icaoClass] || \"Unknown\"}<br>\n            ↧${a.lowerLimit.value} ${getUnit(a.lowerLimit.unit)}  ↥${a.upperLimit.value} ${getUnit(a.upperLimit.unit)}<br>\n          `).join(\"<hr>\");\n\n          L.popup()\n            .setLatLng(clickedPoint)\n            .setContent(popupContent)\n            .openOn(window.map);\n        }\n      });\n    })\n    .catch(error => console.error(\"Error fetching airspaces:\", error));\n}\n\n// Lookup tables for airspace type and ICAO class\nconst airspaceTypes = {\n  0: \"Other\",\n  // ... other types\n};\n\nconst icaoClasses = {\n  0: \"A\",\n  // ... other classes\n};\n\nfunction getUnit(unitCode) {\n  const units = {\n    1: \"ft\", // Feet\n    6: \"FL\"  // Flight Level\n  };\n  return units[unitCode] || \"Unknown\";\n}\n\n// Export the fetchAirspaces function to make it globally available\nwindow.fetchAirspaces = fetchAirspaces;\n\n// Listen for map layer visibility changes\ndocument.addEventListener('map_initialized', function() {\n  console.log(\"Setting up airspace layer events\");\n  \n  // Add event listener for when the airspace layer is added to the map\n  window.map.on('overlayadd', function(e) {\n    if (e.name === 'Airspaces' || e.name === 'Gliding' || e.name === 'Notam') {\n      console.log(`Overlay added: ${e.name}, fetching airspaces`);\n      fetchAirspaces();\n    }\n  });\n  \n  // Also set up the moveend event to refresh airspaces when panning/zooming\n  window.map.on('moveend', function() {\n    // Only fetch if the layer is currently visible\n    if (window.map.hasLayer(window.airspaceEFG)) {\n      console.log(\"Map moved, refreshing airspaces\");\n      fetchAirspaces();\n    }\n  });\n});\n\n// Don't auto-fetch on script load - wait for the layer to be enabled\n// Remove or comment out: fetchAirspaces();","\n\nfunction getCompassDirection(deg) {\n  const directions = [\n    \"N\", \"NNE\", \"NE\", \"ENE\", \"E\", \"ESE\", \"SE\", \"SSE\",\n    \"S\", \"SSW\", \"SW\", \"WSW\", \"W\", \"WNW\", \"NW\", \"NNW\",\n  ];\n  return directions[Math.round(deg / 22.5) % 16];\n}\n\nfunction getFillColor(speed) {\n  if (speed >= 7 && speed <= 14) return \"LimeGreen\";\n  if (speed >= 15 && speed <= 24) return \"yellow\";\n  if (speed >= 25 && speed <= 30) return \"orange\";\n  if (speed >= 31 && speed <= 36) return \"red\";\n  if (speed > 36) return \"black\";\n  return \"Aquamarine\";\n}\n\nfunction getStrokeColor(speed) {\n  if (speed >= 15 && speed <= 24) return \"LimeGreen\";\n  if (speed >= 25 && speed <= 32) return \"yellow\";\n  if (speed >= 33 && speed <= 38) return \"orange\";\n  if (speed >= 39 && speed <= 44) return \"red\";\n  if (speed > 44) return \"black\";\n  return \"Aquamarine\";\n}\n\nfunction getTextColor(backgroundColor) {\n  return backgroundColor === \"black\" ? \"white\" : \"black\";\n}\n\n// Helper: Process raw historical data into 10‑minute averages.\nfunction processHistoricalData(data) {\n  const grouped = {};\n  data.forEach((entry) => {\n    const dt = new Date(entry._id * 1000);\n    // Round down to the nearest 10‑minute mark.\n    dt.setMinutes(Math.floor(dt.getMinutes() / 10) * 10);\n    dt.setSeconds(0);\n    dt.setMilliseconds(0);\n    const key = dt.getTime();\n    if (!grouped[key]) {\n      grouped[key] = { count: 0, wAvgSum: 0, wMaxSum: 0, wDirSum: 0, tempSum: 0, tempCount: 0 };\n    }\n    grouped[key].count++;\n    grouped[key].wAvgSum += entry[\"w-avg\"];\n    grouped[key].wMaxSum += entry[\"w-max\"];\n    grouped[key].wDirSum += entry[\"w-dir\"];\n    if (entry[\"temp\"] !== undefined) {\n      grouped[key].tempSum += entry[\"temp\"];\n      grouped[key].tempCount++;\n    }\n  });\n  const result = Object.keys(grouped).map((key) => ({\n    _id: parseInt(key) / 1000, // back to seconds\n    \"w-avg\": grouped[key].wAvgSum / grouped[key].count,\n    \"w-max\": grouped[key].wMaxSum / grouped[key].count,\n    \"w-dir\": grouped[key].wDirSum / grouped[key].count,\n    \"temp\": grouped[key].tempCount > 0 ? grouped[key].tempSum / grouped[key].tempCount : undefined,\n  }));\n  // For the table we want descending order (most recent first).\n  result.sort((a, b) => b._id - a._id);\n  return result;\n}\n\n// Main function to fetch and display wind stations.\nfunction fetchWindStations() {\n    // Make sure the map exists before trying to use it\n    if (!window.map || typeof window.map.getBounds !== 'function') {\n      console.error('Map not properly initialized');\n      return;\n    }\n\n  const bounds = window.map.getBounds();\n  const nwLat = bounds.getNorthWest().lat;\n  const nwLng = bounds.getNorthWest().lng;\n  const seLat = bounds.getSouthEast().lat;\n  const seLng = bounds.getSouthEast().lng;\n  fetch(\n    `${process.env.APP_DOMAIN}/api/wind-data-getCurrent?nwLat=${nwLat}&nwLng=${nwLng}&seLat=${seLat}&seLng=${seLng}`\n  )\n    .then((response) => response.json())\n    .then((responseData) => {\n      if (!Array.isArray(responseData)) {\n        throw new Error(\"Invalid data format received from API\");\n      }\n      // Clear previous markers.\n      windLayer.clearLayers();\n      console.log('Wind layers cleared'); // Add this\n\n      responseData.forEach((station) => {\n        const [lon, lat] = station.loc.coordinates;\n        const windDirection = station.last[\"w-dir\"];\n        const windAvg = station.last[\"w-avg\"];\n        const windMax = station.last[\"w-max\"];\n        const tempC = station.last[\"temp\"];\n        const compassDirection = getCompassDirection(windDirection);\n        const lastUpdate = new Date(station.last[\"_id\"] * 1000).toLocaleTimeString(\"de-DE\", {hour: \"2-digit\", minute: \"2-digit\", });\n        const fillColor = getFillColor(windAvg);\n        const strokeColor = getStrokeColor(windMax);\n        const peakArrow = station.peak ? \"▲\" : \"▼\";\n        const isHolfuy = station._id.includes(\"holfuy\");\n        let holfuyStationId = '';\n        if (isHolfuy) {\n          holfuyStationId = station._id.split(\"-\")[1];\n        }\n\n        // Create the SVG arrow icon.\n        const arrowSvg = `\n          <svg width=\"30\" height=\"30\" viewBox=\"0 0 800 900\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g transform=\"rotate(${windDirection + 90}, 400, 400)\" stroke=\"${strokeColor}\" stroke-width=\"60\">\n              <path d=\"M203,391 L75,144 L738,391 L75,637 L203,391 Z\" fill=\"${fillColor}\"/>\n            </g>\n            <text x=\"330\" y=\"850\" font-size=\"220\" text-anchor=\"middle\" fill=\"black\" font-weight=\"bold\">\n              ${peakArrow}${Math.round(windAvg)} / ${Math.round(windMax)}\n            </text>\n          </svg>`;\n\n        const arrowIcon = L.divIcon({\n          className: \"wind-arrow\",\n          html: arrowSvg,\n          iconSize: [30, 30],\n          iconAnchor: [12, 15],\n        });\n\n        // Create the marker.\n        const marker = L.marker([lat, lon], { icon: arrowIcon }).addTo(windLayer);\n\n        // Fetch historical data for this station.\n        fetch(\n          `https://winds.mobi/api/2.3/stations/${station._id}/historic/?duration=21000&keys=w-dir&keys=w-avg&keys=w-max&keys=temp`\n        )\n          .then((response) => response.json())\n          .then((historyData) => {\n            // Process historyData into 10‑minute averages.\n            const aggregatedData = processHistoricalData(historyData);\n\n            // --- TABLE SETUP (10‑minute averages, limited to last 5 hours) ---\n            const fiveHoursAgo = Date.now() - 5 * 60 * 60 * 1000;\n            const limitedData = aggregatedData.filter(\n              (entry) => entry._id * 1000 >= fiveHoursAgo\n            );\n            let historyTable = `<table border=\"1\" style=\"border-collapse: collapse; width: 100%; text-align: center;\">\n              <thead>\n                <tr>\n                  <th>Wind (m/s)</th>\n                  <th>Gusts (m/s)</th>\n                  <th>Direction</th>\n                  <th>Temp C°</th>\n                  <th>Time</th>\n                </tr>\n              </thead>\n              <tbody>`;\n            limitedData.forEach((entry) => {\n              const timeFormatted = new Date(entry._id * 1000).toLocaleTimeString(\"de-DE\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n              });\n              const compassDir = getCompassDirection(entry[\"w-dir\"]);\n              historyTable += `<tr>\n                <td style=\"color: ${getTextColor(getFillColor(entry[\"w-avg\"]))}; background-color: ${getFillColor(entry[\"w-avg\"])};\">\n                  ${entry[\"w-avg\"].toFixed(1)}\n                </td>\n                <td style=\"color: ${getTextColor(getStrokeColor(entry[\"w-max\"]))}; background-color: ${getStrokeColor(entry[\"w-max\"])};\">\n                  ${entry[\"w-max\"].toFixed(1)}\n                </td>\n                <td>\n                  <span style=\"display: inline-block; transform: rotate(${entry[\"w-dir\"] + 180}deg);\"><strong>⬆ </strong></span>\n                  ${compassDir}\n                </td>\n                <td>${entry[\"temp\"] !== undefined ? entry[\"temp\"].toFixed(1) : \"N/A\"}</td>\n                <td>${timeFormatted}</td>\n              </tr>`;\n            });\n            historyTable += `</tbody></table>`;\n\n            // --- CHART SETUP (10‑minute averages with hourly vertical grid lines) ---\n            // For the chart we want ascending order (oldest first).\n            const chartData = aggregatedData.slice().reverse();\n\n            // Build the popup HTML with tabs.\n            const popupHtml = `\n              <div style=\"display: flex; gap: 1px; align-items: flex-start;\">\n                <div style=\"flex: 1;\">\n                  <strong>${station.short}</strong><br><br>\n                  <tag-name style=\"white-space:pre\">Wind Speed:&#9;&#9;${windAvg} km/h<br></tag-name>\n                  <tag-name style=\"white-space:pre\">Max Wind:&#9;&#9;${windMax} km/h<br></tag-name>\n                  <tag-name style=\"white-space:pre\">Wind Direction:&#9;${windDirection}° (${compassDirection})<br></tag-name>\n                  <tag-name style=\"white-space:pre\">Last Update:&#9;&#9;${lastUpdate}<br><br></tag-name>\n                </div>\n                ${isHolfuy ? `\n                  <div style=\"flex: 0 0 auto; width: 110px;\">\n                    <iframe src=\"https://widget.holfuy.com/?station=${holfuyStationId}&su=km/h&t=C&lang=en&mode=rose&size=110\"\n                      width=\"160\"\n                      height=\"110\"\n                      frameborder=\"0\"\n                      scrolling=\"no\">\n                    </iframe>\n                  </div>\n                ` : ''}\n              </div>\n              \n              <div class=\"tab-container\">\n                <div class=\"tab active\" onclick=\"showTab('table-${station._id}', this)\">Table</div>\n                <div class=\"tab\" onclick=\"showTab('chart-${station._id}', this)\">Chart</div>\n                <div class=\"tab\" id=\"camera-tab-${station._id}\" style=\"display: none;\" onclick=\"showTab('camera-${station._id}', this)\">Camera</div>\n              </div>\n              <div id=\"table-${station._id}\" class=\"tab-content\">\n                ${historyTable}\n              </div>\n              <div id=\"chart-${station._id}\" class=\"tab-content\" style=\"display: none;\">\n                <canvas id=\"canvas-${station._id}\" width=\"400\" height=\"200\"></canvas>\n              </div>\n              <div id=\"camera-${station._id}\" class=\"tab-content\" style=\"display: none;\">\n                <img id=\"camera-image-${station._id}\" src=\"\" alt=\"Camera Image\" style=\"width: 100%; height: auto;\">\n              </div>\n            `;\n\n            // Bind a responsive popup using the plugin.\n            marker.bindPopup(\n              L.responsivePopup({\n                hasTip: true,\n                autoPan: false,\n                offset: [15, 25],\n                maxWidth: 560,\n                maxHeight: 800,\n              }).setContent(popupHtml)\n            );\n\n            // When the popup is opened, initialize the chart.\n            // When the popup is opened, initialize the chart.\n            marker.on(\"popupopen\", () => {\n              setTimeout(() => {\n                const canvas = document.getElementById(`canvas-${station._id}`);\n                if (canvas) {\n                  canvas.style.height = \"300px\";\n                  const ctx = canvas.getContext(\"2d\");\n                  if (ctx) {\n                    // Transform chartData so that each point has an x (timestamp) and y (value)\n                    const chartDataPointsAvg = chartData.map((entry) => ({\n                      x: entry._id * 1000, // convert seconds to ms\n                      y: entry[\"w-avg\"],\n                    }));\n                    const chartDataPointsMax = chartData.map((entry) => ({\n                      x: entry._id * 1000,\n                      y: entry[\"w-max\"],\n                    }));\n\n                    const chartInstance = new Chart(ctx, {\n                      type: \"line\",\n                      data: {\n                        datasets: [\n                          {\n                            label: \"Wind Avg (km/h)\",\n                            data: chartDataPointsAvg,\n                            borderColor: \"blue\",\n                            fill: false,\n                            pointRadius: 3,\n                          },\n                          {\n                            label: \"Wind Max (km/h)\",\n                            data: chartDataPointsMax,\n                            borderColor: \"red\",\n                            fill: false,\n                            pointRadius: 3,\n                          },\n                        ],\n                      },\n                      options: {\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        layout: {\n                          // Add extra bottom padding so there's room for the arrows.\n                          padding: { bottom: 5 },\n                        },\n                        scales: {\n                          x: {\n                            type: \"time\",\n                            time: {\n                              unit: \"hour\",\n                              displayFormats: {\n                                hour: \"HH:mm\",\n                              },\n                              tooltipFormat: \"HH:mm\",\n                            },\n                            grid: {\n                              drawBorder: true,\n                            },\n                            ticks: {\n                              autoSkip: true,\n                              maxRotation: 0,\n                              minRotation: 0,\n                              padding: 30,\n                            },\n                          },\n                          y: {\n                            beginAtZero: true,\n                            ticks: {\n                              stepSize: 10,\n                              maxTicksLimit: 10,\n                              font: { size: 14 },\n                            },\n                          },\n                        },\n                        plugins: {\n                          legend: { display: false },\n                        },\n                      },\n                      plugins: [\n                        {\n                          id: \"windDirectionArrows\",\n                          afterDraw: (chart) => {\n                            const ctx = chart.ctx;\n                            const xAxis = chart.scales.x;\n                            ctx.save();\n                            // Position arrows just below the x-axis line \n                            const arrowRowY = xAxis.top + 20;\n                            \n                            // Set text properties for centered alignment\n                            ctx.textAlign = \"center\";\n                            ctx.textBaseline = \"middle\";\n                            \n                            chartData.forEach((entry) => {\n                              const x = xAxis.getPixelForValue(entry._id * 1000);\n                              ctx.save();\n                              ctx.translate(x, arrowRowY);\n                              ctx.rotate(((entry[\"w-dir\"] + 180) * Math.PI) / 180);\n                              ctx.font = \"18px Arial\";\n                              ctx.fillText(\"⬆\", 0, 0);\n                              ctx.restore();\n                            });\n                            ctx.restore();\n                          },\n                        },\n                      ],\n                      \n                    });\n                    canvas.chartInstance = chartInstance;\n                  } else {\n                    console.error(\"Failed to get 2D context from canvas.\");\n                  }\n                } else {\n                  console.error(\"Canvas element not found.\");\n                }\n                // Inside the popupopen event handler where camera handling happens:\n                if (station._id.includes(\"holfuy\")) {\n                  const holfuyStationId = station._id.split(\"-\")[1];\n                  const cameraImageUrl = `https://holfuy.com/en/takeit/cam/s${holfuyStationId}.jpg`;\n                  const cameraImageElement = document.getElementById(`camera-image-${station._id}`);\n                  const cameraTabElement = document.getElementById(`camera-tab-${station._id}`);\n                  \n                  // Create temporary image to test validity\n                  const testImage = new Image();\n                  testImage.onload = function() {\n                    // Only show tab if image loads successfully\n                    cameraImageElement.src = cameraImageUrl;\n                    cameraTabElement.style.display = \"block\";\n                  };\n                  testImage.onerror = function() {\n                    // Hide tab if image fails to load\n                    cameraTabElement.style.display = \"none\";\n                  };\n                  testImage.src = cameraImageUrl;\n                  \n                  // Set timeout as fallback in case responses are slow\n                  setTimeout(() => {\n                    if (!testImage.complete || testImage.naturalWidth === 0) {\n                      cameraTabElement.style.display = \"none\";\n                    }\n                  }, 2000);\n                }\n              }, 500);\n            });\n\n          })\n          .catch((error) =>\n            console.error(\"Error fetching historical wind data:\", error)\n          );\n      });\n    })\n    .catch((error) =>\n      console.error(\"Error fetching wind station data:\", error)\n    );\n}\n\n// Enhanced tab switching function.\nwindow.showTab = function (tabId, element) {\n  console.log(\"Switching to tab:\", tabId);\n\n  document.querySelectorAll(\".tab-content\").forEach((tab) => {\n    tab.style.display = \"none\";\n  });\n\n  document.querySelectorAll(\".tab\").forEach((tab) => {\n    tab.classList.remove(\"active\");\n  });\n\n  const targetTab = document.getElementById(tabId);\n  if (targetTab) {\n    targetTab.style.display = \"block\";\n  } else {\n    console.error(\"Tab not found:\", tabId);\n  }\n\n  if (element) {\n    element.classList.add(\"active\");\n  } else {\n    console.error(\"Element is null or undefined\");\n  }\n\n  if (tabId.startsWith(\"chart-\")) {\n    const stationId = tabId.split(\"chart-\")[1];\n    console.log(\"Station ID:\", stationId);\n\n    const canvas = document.getElementById(`canvas-${stationId}`);\n    if (canvas) {\n      console.log(\"Canvas found:\", canvas);\n\n      if (canvas.chartInstance) {\n        console.log(\"Updating chart...\");\n        canvas.chartInstance.resize();\n        canvas.chartInstance.update();\n      } else {\n        console.warn(\"Chart instance not found on canvas:\", canvas);\n      }\n    } else {\n      console.error(\"Canvas not found for station ID:\", stationId);\n    }\n  }\n};\n\n\n\n// Initial fetch of wind stations.\nwindow.fetchWindStations = fetchWindStations;\n\n","// spotsHelper.js - Common functionality for loading and displaying spots on a map\r\n\r\n// Module-scoped variable to track Dropzone instance\r\nlet feedbackDropzone = null;\r\nlet currentFeedbackForm = null;\r\n\r\n// Swiper related functions\r\nfunction changeSwiper() {\r\n    if (typeof swiperc !== \"undefined\") {\r\n        if (window.innerWidth < 576) {\r\n            $(\".swiper2\").css(\"height\", \"\"); $(\".swiper2\").css(\"width\", \"320px\");\r\n            $(\".swiper2\").css(\"padding-left\", \"\"); $(\".swiper2\").css(\"padding-top\", \"30px\");\r\n            $(\".swiper2 > .swiper-wrapper\").css(\"width\", \"\"); $(\".swiper2 > .swiper-wrapper\").css(\"height\", \"100px\");\r\n            swiperc.changeDirection('horizontal', true);\r\n        }\r\n        else {\r\n            if (window.innerWidth < 840) {\r\n                $(\".swiper2\").css(\"width\", \"\"); $(\".swiper2\").css(\"height\", \"320px\");\r\n            }\r\n            else {\r\n                $(\".swiper2\").css(\"width\", \"\"); $(\".swiper2\").css(\"height\", \"460px\");\r\n            }\r\n            $(\".swiper2\").css(\"padding-top\", \"\"); $(\".swiper2\").css(\"padding-left\", \"30px\");\r\n            $(\".swiper2 > .swiper-wrapper\").css(\"height\", \"\"); $(\".swiper2 > .swiper-wrapper\").css(\"width\", \"100px\");\r\n            swiperc.changeDirection('vertical', true);\r\n        }\r\n    }\r\n}\r\n\r\nfunction initSwiper(idImg) {\r\n    let swiperv, swiperc;\r\n    // USED 09/24 Beschreibung: Initialisierung der Image-Swiper\r\n    var swiperLoop3 = (idImg < 4) ? false : true;\r\n    var swiperLoop4 = (idImg < 5) ? false : true;\r\n\r\n    swiperv = new Swiper('.swiper1', {\r\n        autoHeight: true,\r\n        direction: 'horizontal',\r\n        allowTouchMove: false,\r\n        mousewheel: false,\r\n        slidesPerView: 1,\r\n        loop: false,\r\n    });\r\n\r\n    swiperc = new Swiper('.swiper2', {\r\n        direction: 'vertical',\r\n        allowTouchMove: true,\r\n        mousewheel: true,\r\n        slidesPerView: 3,\r\n        spaceBetween: 10,\r\n        loop: swiperLoop3,\r\n        breakpoints: {\r\n            840: {\r\n                slidesPerView: 4,\r\n                loop: swiperLoop4\r\n            }\r\n        },\r\n        scrollbar: {\r\n            el: '.swiper-scrollbar',\r\n            hide: false,\r\n            draggable: true,\r\n        },\r\n        on: {\r\n            click: function() {\r\n                let iR = (this.clickedSlide.firstChild.id).substring(3) - 1;\r\n                swiperv.slideTo(iR, 1);\r\n            },\r\n            transitionEnd: function () {\r\n                let iR = this.realIndex;\r\n                swiperv.slideTo(iR, 1);\r\n            }\r\n        }\r\n    });\r\n\r\n    changeSwiper();\r\n}\r\n\r\n// Mapping wind directions to angles\r\nfunction getAngleRange(direction) {\r\n    const dirToAngle = {\r\n        \"N\": 0, \"NNE\": 22.5, \"NE\": 45, \"ENE\": 67.5,\r\n        \"E\": 90, \"ESE\": 112.5, \"SE\": 135, \"SSE\": 157.5,\r\n        \"S\": 180, \"SSW\": 202.5, \"SW\": 225, \"WSW\": 247.5,\r\n        \"W\": 270, \"WNW\": 292.5, \"NW\": 315, \"NNW\": 337.5\r\n    };\r\n\r\n    let angleRanges = [];\r\n    let parts = direction.split(',').map(part => part.trim());\r\n\r\n    parts.forEach(part => {\r\n        let range = part.split('-').map(dir => dir.trim());\r\n        if (range.length === 1) {\r\n            let angle = dirToAngle[range[0]];\r\n            if (angle !== undefined) {\r\n                angleRanges.push([angle - 22.5, angle + 22.5]);\r\n            }\r\n        } else if (range.length === 2) {\r\n            let start = dirToAngle[range[0]];\r\n            let end = dirToAngle[range[1]];\r\n            if (start !== undefined && end !== undefined) {\r\n                if (end < start) {\r\n                    [start, end] = [end, start];\r\n                }\r\n                if (end - start > 180) {\r\n                    [start, end] = [end, start];\r\n                }\r\n                angleRanges.push([start, end]);\r\n            }\r\n        }\r\n    });\r\n\r\n    return angleRanges;\r\n}\r\n\r\n// Fetch full place details when a popup is opened\r\nasync function loadPlaceDetails(layer, placeId) {\r\n    try {\r\n        const response = await fetch(`${process.env.APP_DOMAIN}/api/places/${placeId}`);\r\n        const data = await response.json();\r\n\r\n        if (data.error) {\r\n            console.error(\"Error fetching place details:\", data.error);\r\n            return;\r\n        }\r\n\r\n        let regex1 = /<center><b><a href=\"http:\\/\\/www\\.paraglidingearth\\.com\\/index\\.php\\?site=\\d+\">More information on ParaglidingEarth<\\/a><\\/b><\\/center>\\n?/g;\r\n        let regex2 = /<br>\\n<b>Take off : <\\/b><br>\\n?/g;\r\n        let regexHeight = /H \\d+(-\\d+)? m(?:, |<br>)/g;\r\n        let regexHD = /HD \\d+ m(?:<br>| \\/)/g;\r\n        let regexRating = /\\nrating \\d+\\/\\d+(?:\\n|<br>)*/gi;\r\n\r\n        let description = (data.properties.description || \"\")\r\n            .replace(regex1, \"\")\r\n            .replace(regex2, \"\")\r\n            .replace(regexHeight, \"\")\r\n            .replace(regexHD, \"\")\r\n            .replace(regexRating, \"\")\r\n            .trim();\r\n\r\n        window.currentPlaceName = data.properties.name;\r\n        window.currentPlaceId = data.properties.id; \r\n        window.currentStrPlacemarkId = data.properties.strPlacemarkId; \r\n\r\n        let popupContent = `<span style=\"color: #0087F7;\"><h5>${data.properties.name}</h5></span>\r\n                            <table style=\"border-collapse: collapse; width: 40%;\">\r\n                            <tr>\r\n                                <th style=\"text-align: left; vertical-align: top;\">Type:</th>\r\n                                <td style=\"text-align: left; vertical-align: top;\">${data.properties.type}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style=\"text-align: left; vertical-align: top;\">Direction:</th>\r\n                                <td style=\"text-align: left; vertical-align: top;\">${data.properties.direction}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style=\"text-align: left; vertical-align: top;\">Rating:</th>\r\n                                <td style=\"text-align: left; vertical-align: top;\">${data.properties.rating != null ? data.properties.rating + '/6' : ' -'}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style=\"text-align: left; vertical-align: top;\">Height:</th>\r\n                                <td style=\"text-align: left; vertical-align: top;\">${data.properties.height != null ? data.properties.height : ' -'}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style=\"text-align: left; vertical-align: top;\">Height difference:</th>\r\n                                <td style=\"text-align: left; vertical-align: top;\">${data.properties.heightdifference != null ? data.properties.heightdifference : ' -'}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style=\"text-align: left; vertical-align: top;\">Last Update:</th>\r\n                                <td style=\"text-align: left; vertical-align: top;\">${data.properties.lastupdate}</td>\r\n                            </tr>\r\n                            </table><br>\r\n                            <b>Description:</b> ${description}<br>\r\n                            <b>© <a href=\"https://paraglidingspots.com\" target=\"_blank\">paraglidingspots.com</a></b>\r\n                            <div class=\"modal-footer d-flex justify-content-between\">\r\n                            <div id=\"feedback-message\" class=\"text-start\"></div> <!-- Message on the left -->\r\n                            <div class=\"d-flex ms-auto\">\r\n                                <button class=\"btn btn-primary me-2\" onclick=\"showFeebackForm()\">Feedback/Correction</button>\r\n                                <button class=\"btn btn-dark close-popup\">Close</button>\r\n                            </div>\r\n                            </div>\r\n                            `;\r\n\r\n        // Apply maxWidth CSS directly to popup content if needed\r\n        popupContent += `<style>\r\n        /* Limit the height of the Swiper container */\r\n        .swiper-container {\r\n            max-height: 460px !important;\r\n            height: 460px !important;\r\n            overflow: hidden !important;\r\n        }\r\n\r\n        /* Ensure individual Swipers don't expand beyond this height */\r\n        .swiper, .swiper1, .swiper2 {\r\n            max-height: 460px !important;\r\n            height: 460px !important;\r\n            overflow: hidden !important;\r\n        }\r\n\r\n        /* Limit Swiper wrapper height */\r\n        .swiper-wrapper {\r\n            max-height: 460px !important;\r\n        }\r\n\r\n        /* Ensure Swiper slides don't stretch */\r\n        .swiper-slide {\r\n            max-height: 460px !important;\r\n            display: flex !important;\r\n            align-items: center !important; /* Keep images centered */\r\n            justify-content: center !important;\r\n        }\r\n\r\n        /* Prevent images from exceeding the swiper height */\r\n        .swiper-slide img {\r\n            max-height: 100% !important;\r\n            width: auto !important;\r\n        }\r\n        \r\n        /* Keep the overall popup size unchanged */\r\n        .leaflet-popup-content {\r\n            max-height: 780px !important; /* Keep original popup height */\r\n            overflow-y: auto; /* Allow scrolling inside the popup if needed */\r\n        }\r\n\r\n        .swiper-clear {\r\n            clear: both;\r\n            margin-bottom: 1px;\r\n        }\r\n        </style>`;\r\n\r\n        layer.setPopupContent(popupContent);\r\n\r\n        // Wait for the popup to open before initializing Swiper\r\n        setTimeout(() => {\r\n            let firstImg = document.querySelector(\".swiper1 .swiper-slide img\");\r\n            if (firstImg) {\r\n                let idImg = parseInt(firstImg.id.replace(/\\D/g, \"\"), 10) || 1;\r\n                initSwiper(idImg); // Call existing Swiper function\r\n            }\r\n    \r\n        }, 300);\r\n\r\n        setTimeout(() => {\r\n            document.querySelector(\".close-popup\").addEventListener(\"click\", function () {\r\n                map.closePopup();\r\n            });\r\n        }, 300);\r\n\r\n    } catch (error) {\r\n        console.error(\"Error fetching place details:\", error);\r\n    }\r\n}\r\n\r\nfunction showFeebackForm() {\r\n    // Cleanup any existing feedback form\r\n    if (currentFeedbackForm) {\r\n        currentFeedbackForm.remove();\r\n        currentFeedbackForm = null;\r\n    }\r\n    if (feedbackDropzone) {\r\n        feedbackDropzone.destroy();\r\n        feedbackDropzone = null;\r\n    }\r\n    // Clear previous feedback message\r\n    const messageDiv = document.getElementById(\"feedback-message\");\r\n    if (messageDiv) {\r\n        messageDiv.textContent = \"\";\r\n         messageDiv.classList.remove(\"text-success\", \"text-danger\");\r\n    }\r\n\r\n    let modalFooter = document.querySelector(\".modal-footer\");\r\n    if (modalFooter) modalFooter.style.display = \"none\";\r\n\r\n    const feedbackFormHtml = `\r\n        <div id=\"feedbackFormHtml\">\r\n            <div class=\"feedback-modal\">\r\n                <span style=\"color: #0087F7;\"><h5>Feedback for ${window.currentPlaceName}</h5></span>\r\n                <form id=\"feedbackForm\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"feedbackText\">Feedback / Correction / Comment:</label>\r\n                        <textarea id=\"feedbackText\" class=\"form-control\" required style=\"height: 130px;\"></textarea>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Upload Images (optional):</label>\r\n                        <div id=\"dropzoneFeedback\" class=\"dropzone mt-4 border-dashed rounded-2 min-h-0\"></div>\r\n                    </div>\r\n                    <div class=\"form-group d-flex justify-content-between\">\r\n                        <div style=\"width: 48%;\">\r\n                            <label for=\"userName\">Name:</label>\r\n                            <input type=\"text\" id=\"userName\" class=\"form-control\" required>\r\n                        </div>\r\n                        <div style=\"width: 48%;\">\r\n                            <label for=\"userEmail\">E-Mail:</label>\r\n                            <input type=\"email\" id=\"userEmail\" class=\"form-control\" required>\r\n                            <small class=\"text-danger d-none\" id=\"emailError\">Please enter a valid email address.</small>\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"submit\" class=\"btn btn-success\">Submit</button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" onclick=\"cancelFeedback()\">Cancel</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    const popup = document.querySelector(\".leaflet-popup-content\");\r\n    if (popup) {\r\n        popup.insertAdjacentHTML(\"beforeend\", feedbackFormHtml);\r\n        currentFeedbackForm = document.getElementById(\"feedbackFormHtml\");\r\n\r\n        // Auto-scroll implementation\r\n        setTimeout(() => {\r\n            const popupContainer = document.querySelector(\".leaflet-popup-content\");\r\n            if (popupContainer) {\r\n                popupContainer.scrollTo({\r\n                    top: popupContainer.scrollHeight,\r\n                    behavior: 'smooth'\r\n                });\r\n            }\r\n        }, 50); // 50ms delay to ensure DOM rendering\r\n    } else {\r\n        console.error(\"Popup content not found!\");\r\n        return;\r\n    }\r\n\r\n    // Initialize Dropzone\r\n    feedbackDropzone = new Dropzone(\"#dropzoneFeedback\", {\r\n        url: \"/upload\",\r\n        autoProcessQueue: false,\r\n        maxFiles: 5,\r\n        maxFilesize: 100,\r\n        acceptedFiles: \"image/*\",\r\n        addRemoveLinks: false,\r\n        dictDefaultMessage: \"Drag & drop files here or click to upload\",\r\n        clickable: true,\r\n        init: function() {\r\n            const dzInstance = this;\r\n            this.on(\"addedfile\", function(file) {\r\n                const previewElement = file.previewElement;\r\n                const deleteIcon = document.createElement(\"img\");\r\n                deleteIcon.src = \"/assets/images/imgdelete.png\";\r\n                deleteIcon.alt = \"Delete\";\r\n                deleteIcon.classList.add(\"delete-icon\");\r\n                previewElement.querySelector(\".dz-image\").appendChild(deleteIcon);\r\n\r\n                deleteIcon.addEventListener(\"click\", function(e) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    dzInstance.removeFile(file);\r\n                });\r\n            });\r\n\r\n            this.on(\"removedfile\", function(file) {\r\n                console.log(\"File removed:\", file.name);\r\n            });\r\n        }\r\n    });\r\n\r\n    // Email validation\r\n    document.getElementById(\"userEmail\").addEventListener(\"input\", function() {\r\n        const isValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(this.value);\r\n        document.getElementById(\"emailError\").classList.toggle(\"d-none\", isValid);\r\n    });\r\n\r\n    // Form submission\r\n    document.getElementById(\"feedbackForm\").addEventListener(\"submit\", async function(event) {\r\n        event.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"name\", window.currentPlaceName);\r\n        formData.append(\"id\", window.currentPlaceId);\r\n        formData.append(\"strPlacemarkId\", window.currentStrPlacemarkId);    \r\n        formData.append(\"feedbackText\", document.getElementById(\"feedbackText\").value);\r\n        formData.append(\"userName\", document.getElementById(\"userName\").value);\r\n        formData.append(\"userEmail\", document.getElementById(\"userEmail\").value);\r\n\r\n        feedbackDropzone.files.forEach(file => {\r\n            formData.append(\"images\", file);\r\n        });\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.APP_DOMAIN}/api/send-feedback`, {\r\n                method: \"POST\",\r\n                body: formData\r\n            });\r\n            const result = await response.json();\r\n\r\n            // Cleanup after submission\r\n            if (currentFeedbackForm) {\r\n                currentFeedbackForm.remove();\r\n                currentFeedbackForm = null;\r\n            }\r\n            if (feedbackDropzone) {\r\n                feedbackDropzone.destroy();\r\n                feedbackDropzone = null;\r\n            }\r\n\r\n            const messageDiv = document.getElementById(\"feedback-message\");\r\n            if (result.success) {\r\n                messageDiv.textContent = result.message || \"Feedback submitted successfully!\";\r\n                messageDiv.classList.remove(\"text-danger\");\r\n                messageDiv.classList.add(\"text-success\");\r\n            } else {\r\n                messageDiv.textContent = result.error || \"An error occurred.\";\r\n                messageDiv.classList.remove(\"text-success\");\r\n                messageDiv.classList.add(\"text-danger\");\r\n            }\r\n            document.querySelector(\".modal-footer\").style.display = \"flex\";\r\n        } catch (error) {\r\n            console.error(\"Submission error:\", error);\r\n        }\r\n    });\r\n}\r\n\r\nfunction cancelFeedback() {\r\n    // Cleanup feedback form and Dropzone\r\n    if (currentFeedbackForm) {\r\n        currentFeedbackForm.remove();\r\n        currentFeedbackForm = null;\r\n    }\r\n    if (feedbackDropzone) {\r\n        feedbackDropzone.destroy();\r\n        feedbackDropzone = null;\r\n    }\r\n    document.querySelector(\".modal-footer\").style.display = \"flex\";\r\n}\r\n\r\n// Export functions\r\nexport {\r\n    changeSwiper,\r\n    initSwiper,\r\n    getAngleRange,\r\n    loadPlaceDetails,\r\n    showFeebackForm,\r\n    cancelFeedback\r\n};","import { \r\n    getAngleRange, \r\n    loadPlaceDetails, \r\n    showFeebackForm, \r\n    cancelFeedback \r\n} from './spotsHelper.js';\r\n\r\n// Use a module initialization function that waits for map to be ready\r\nexport function initSpotPG() {\r\n    // Check if map and placesLayerPG are available in the window object\r\n    if (!window.map || !window.placesLayerPG) {\r\n        console.error(\"Map or placesLayerPG is not defined. Retrying in 500ms...\");\r\n        setTimeout(initSpotPG, 500);\r\n        return;\r\n    }\r\n\r\n    console.log(\"Initializing PG spots module...\");\r\n\r\n    // Expose needed functions to global scope for event handlers\r\n    window.showFeebackForm = showFeebackForm;\r\n    window.cancelFeedback = cancelFeedback;\r\n\r\n    // Create cluster group and nest it in the existing layer group\r\n    const clusterGroup = L.markerClusterGroup({\r\n        disableClusteringAtZoom: 9,\r\n        spiderfyOnMaxZoom: true,\r\n        showCoverageOnHover: true,\r\n        zoomToBoundsOnClick: true,\r\n        maxClusterRadius: 250,\r\n        iconCreateFunction: function(cluster) {\r\n            return L.divIcon({ \r\n                html: `<div class=\"cluster-marker\">${cluster.getChildCount()}</div>`,\r\n                className: 'pg-cluster-icon',\r\n                iconSize: L.point(30, 30)\r\n            });\r\n        }\r\n    });\r\n\r\n    window.placesLayerPG.addLayer(clusterGroup);\r\n\r\n    // Track current fetch controller to allow cancellation\r\n    let currentFetchController = null;\r\n    // Add debounce timer\r\n    let fetchDebounceTimer = null;\r\n    const DEBOUNCE_DELAY = 300; // ms\r\n\r\n    // Fetch places without descriptions\r\n    function fetchPlaces() {\r\n        // Only proceed if the layer is on the map\r\n        if (!window.map.hasLayer(window.placesLayerPG)) {\r\n            console.log(\"PG layer not visible, skipping fetch\");\r\n            return;\r\n        }\r\n        \r\n        // Clear any pending debounce\r\n        if (fetchDebounceTimer) {\r\n            clearTimeout(fetchDebounceTimer);\r\n        }\r\n        \r\n        // Debounce the fetch call to prevent rapid successive requests\r\n        fetchDebounceTimer = setTimeout(() => {\r\n            // Cancel any ongoing fetch\r\n            if (currentFetchController) {\r\n                currentFetchController.abort();\r\n            }\r\n\r\n            // Create a new controller for this fetch\r\n            currentFetchController = new AbortController();\r\n            const signal = currentFetchController.signal;\r\n\r\n            const bounds = window.map.getBounds();\r\n            const nw_lat = bounds.getNorthWest().lat;\r\n            const nw_lng = bounds.getNorthWest().lng;\r\n            const se_lat = bounds.getSouthEast().lat;\r\n            const se_lng = bounds.getSouthEast().lng;\r\n\r\n            fetch(`${process.env.APP_DOMAIN}/api/places?nw_lat=${nw_lat}&nw_lng=${nw_lng}&se_lat=${se_lat}&se_lng=${se_lng}&type=TO&type=TOW&type=TH`, {\r\n                signal // Attach the abort signal to the fetch call\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    // Only process if this is still the active request\r\n                    if (signal.aborted) return;\r\n                    \r\n                    clusterGroup.clearLayers();\r\n\r\n                    L.geoJSON(data, {\r\n                        pointToLayer: function (feature, latlng) {\r\n                            return L.marker(latlng, {\r\n                                icon: L.canvasIcon({\r\n                                    iconSize: [50, 50],\r\n                                    iconAnchor: [15, 15],\r\n                                    drawIcon: function (icon, type) {\r\n                                        if (type === 'icon') {\r\n                                            var ctx = icon.getContext('2d');\r\n                                            var size = L.point(this.options.iconSize);\r\n                                            var center = L.point(size.x / 2, size.y / 2);\r\n                                            ctx.clearRect(0, 0, size.x, size.y);\r\n\r\n                                            let direction = feature.properties.direction || \"\";\r\n                                            let angleRanges = getAngleRange(direction);\r\n\r\n                                            ctx.beginPath();\r\n                                            angleRanges.forEach(([start, end]) => {\r\n                                                ctx.moveTo(center.x, center.y);\r\n                                                ctx.arc(center.x, center.y, center.x, (start - 90) * Math.PI / 180, (end - 90) * Math.PI / 180, false);\r\n                                                ctx.lineTo(center.x, center.y);\r\n                                            });\r\n                                            ctx.fillStyle = 'orange';\r\n                                            ctx.fill();\r\n                                            ctx.closePath();\r\n\r\n                                            ctx.beginPath();\r\n                                            ctx.arc(center.x, center.y, center.x / 4, 0, Math.PI * 2);\r\n                                            ctx.fillStyle = 'green';\r\n                                            ctx.fill();\r\n                                            ctx.closePath();\r\n                                        }\r\n                                    }\r\n                                })\r\n                            });\r\n                        },\r\n                        onEachFeature: function (feature, layer) {\r\n                            if (feature.properties) {\r\n                                let popupContent = `<b>${feature.properties.name}</b><br>\r\n                                                    Type: ${feature.properties.type}<br>\r\n                                                    Direction: ${feature.properties.direction}<br>\r\n                                                    <i>Loading details...</i>`;\r\n\r\n                                let responsivePopup = L.responsivePopup({\r\n                                    hasTip: true,\r\n                                    autoPan: false,\r\n                                    offset: [15, 25],\r\n                                    maxWidth: 900,\r\n                                    maxHeight: 780\r\n                                }).setContent(popupContent);\r\n\r\n                                layer.bindPopup(responsivePopup);\r\n\r\n                                layer.on(\"popupopen\", async function () {\r\n                                    await loadPlaceDetails(layer, feature.properties.id);\r\n                                });\r\n                            }\r\n                            \r\n                            clusterGroup.addLayer(layer);\r\n                        }\r\n                    });\r\n                    \r\n                    // Clear the controller reference when done\r\n                    currentFetchController = null;\r\n                })\r\n                .catch(error => {\r\n                    // Don't log aborted requests as errors\r\n                    if (error.name !== 'AbortError') {\r\n                        console.error(\"Error fetching PG places:\", error);\r\n                    }\r\n                });\r\n        }, DEBOUNCE_DELAY);\r\n    }\r\n\r\n    // IMPORTANT: Expose fetchPlaces to window so it can be called from index.js\r\n    window.fetchPlacesPG = fetchPlaces;\r\n\r\n    // REMOVED: Don't attach moveend listener here anymore\r\n    // The central handler in index.js will call fetchPlacesPG when needed\r\n\r\n    // Initial load only if layer is visible\r\n    if (window.map.hasLayer(window.placesLayerPG)) {\r\n        fetchPlaces();\r\n    }\r\n    \r\n    console.log(\"PG spots module initialized\");\r\n}\r\n\r\n// Listen for map initialization event\r\ndocument.addEventListener(\"map_initialized\", function() {\r\n    console.log(\"Map initialized event received in PG spots module\");\r\n    setTimeout(initSpotPG, 100);\r\n});\r\n\r\n// Alternative initialization approach\r\nsetTimeout(() => {\r\n    if (window.mapInitialized) {\r\n        console.log(\"Backup initialization for PG spots module\");\r\n        initSpotPG();\r\n    }\r\n}, 1000);","import { \r\n    getAngleRange, \r\n    loadPlaceDetails, \r\n    showFeebackForm, \r\n    cancelFeedback \r\n} from './spotsHelper.js';\r\n\r\n// Use a module initialization function that waits for map to be ready\r\nexport function initSpotHG() {\r\n    // Check if map and placesLayerHG are available in the window object\r\n    if (!window.map || !window.placesLayerHG) {\r\n        console.error(\"Map or placesLayerHG is not defined. Retrying in 500ms...\");\r\n        setTimeout(initSpotHG, 500);\r\n        return;\r\n    }\r\n\r\n    console.log(\"Initializing HG spots module...\");\r\n\r\n    // Expose needed functions to global scope for event handlers\r\n    window.showFeebackForm = showFeebackForm;\r\n    window.cancelFeedback = cancelFeedback;\r\n\r\n    // Create cluster group and nest it in the existing layer group\r\n    const clusterGroup = L.markerClusterGroup({\r\n        disableClusteringAtZoom: 9,\r\n        spiderfyOnMaxZoom: true,\r\n        showCoverageOnHover: true,\r\n        zoomToBoundsOnClick: true,\r\n        maxClusterRadius: 250,\r\n        iconCreateFunction: function(cluster) {\r\n            return L.divIcon({ \r\n                html: `<div class=\"cluster-marker\">${cluster.getChildCount()}</div>`,\r\n                className: 'hg-cluster-icon',\r\n                iconSize: L.point(30, 30)\r\n            });\r\n        }\r\n    });\r\n\r\n    window.placesLayerHG.addLayer(clusterGroup);\r\n\r\n    // Track current fetch controller to allow cancellation\r\n    let currentFetchController = null;\r\n    // Add debounce timer\r\n    let fetchDebounceTimer = null;\r\n    const DEBOUNCE_DELAY = 300; // ms\r\n\r\n    // Fetch places without descriptions\r\n    function fetchPlaces() {\r\n        // Clear any pending debounce\r\n        if (fetchDebounceTimer) {\r\n            clearTimeout(fetchDebounceTimer);\r\n        }\r\n        \r\n        // Debounce the fetch call to prevent rapid successive requests\r\n        fetchDebounceTimer = setTimeout(() => {\r\n            // Cancel any ongoing fetch\r\n            if (currentFetchController) {\r\n                currentFetchController.abort();\r\n            }\r\n\r\n            // Create a new controller for this fetch\r\n            currentFetchController = new AbortController();\r\n            const signal = currentFetchController.signal;\r\n\r\n            const bounds = window.map.getBounds();\r\n            const nw_lat = bounds.getNorthWest().lat;\r\n            const nw_lng = bounds.getNorthWest().lng;\r\n            const se_lat = bounds.getSouthEast().lat;\r\n            const se_lng = bounds.getSouthEast().lng;\r\n\r\n            fetch(`${process.env.APP_DOMAIN}/api/places?nw_lat=${nw_lat}&nw_lng=${nw_lng}&se_lat=${se_lat}&se_lng=${se_lng}&type=TO-HG&type=TOW-HG`, {\r\n                signal // Attach the abort signal to the fetch call\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    // Only process if this is still the active request\r\n                    if (signal.aborted) return;\r\n                    \r\n                    clusterGroup.clearLayers();\r\n\r\n                    L.geoJSON(data, {\r\n                        pointToLayer: function (feature, latlng) {\r\n                            return L.marker(latlng, {\r\n                                icon: L.canvasIcon({\r\n                                    iconSize: [50, 50],\r\n                                    iconAnchor: [15, 15],\r\n                                    drawIcon: function (icon, type) {\r\n                                        if (type === 'icon') {\r\n                                            var ctx = icon.getContext('2d');\r\n                                            var size = L.point(this.options.iconSize);\r\n                                            var center = L.point(size.x / 2, size.y / 2);\r\n                                            ctx.clearRect(0, 0, size.x, size.y);\r\n\r\n                                            let direction = feature.properties.direction || \"\";\r\n                                            let angleRanges = getAngleRange(direction);\r\n\r\n                                            ctx.beginPath();\r\n                                            angleRanges.forEach(([start, end]) => {\r\n                                                ctx.moveTo(center.x, center.y);\r\n                                                ctx.arc(center.x, center.y, center.x, (start - 90) * Math.PI / 180, (end - 90) * Math.PI / 180, false);\r\n                                                ctx.lineTo(center.x, center.y);\r\n                                            });\r\n                                            ctx.fillStyle = 'orange';\r\n                                            ctx.fill();\r\n                                            ctx.closePath();\r\n\r\n                                            ctx.beginPath();\r\n                                            ctx.arc(center.x, center.y, center.x / 4, 0, Math.PI * 2);\r\n                                            ctx.fillStyle = 'green';\r\n                                            ctx.fill();\r\n                                            ctx.closePath();\r\n                                        }\r\n                                    }\r\n                                })\r\n                            });\r\n                        },\r\n                        onEachFeature: function (feature, layer) {\r\n                            if (feature.properties) {\r\n                                let popupContent = `<b>${feature.properties.name}</b><br>\r\n                                                    Type: ${feature.properties.type}<br>\r\n                                                    Direction: ${feature.properties.direction}<br>\r\n                                                    <i>Loading details...</i>`;\r\n\r\n                                let responsivePopup = L.responsivePopup({\r\n                                    hasTip: true,\r\n                                    autoPan: false,\r\n                                    offset: [15, 25],\r\n                                    maxWidth: 900,\r\n                                    maxHeight: 780\r\n                                }).setContent(popupContent);\r\n\r\n                                layer.bindPopup(responsivePopup);\r\n\r\n                                layer.on(\"popupopen\", async function () {\r\n                                    await loadPlaceDetails(layer, feature.properties.id);\r\n                                });\r\n                            }\r\n                            \r\n                            clusterGroup.addLayer(layer);\r\n                        }\r\n                    });\r\n                    \r\n                    // Clear the controller reference when done\r\n                    currentFetchController = null;\r\n                })\r\n                .catch(error => {\r\n                    // Don't log aborted requests as errors\r\n                    if (error.name !== 'AbortError') {\r\n                        console.error(\"Error fetching HG places:\", error);\r\n                    }\r\n                });\r\n        }, DEBOUNCE_DELAY);\r\n    }\r\n\r\n    // IMPORTANT: Expose fetchPlaces to window so it can be called from index.js\r\n    window.fetchPlacesHG = fetchPlaces;\r\n\r\n    // REMOVED: Don't attach moveend listener here anymore\r\n    // The central handler in index.js will call fetchPlacesPG when needed\r\n\r\n    // Initial load only if layer is visible\r\n    if (window.map.hasLayer(window.placesLayerHG)) {\r\n        fetchPlaces();\r\n    }\r\n    \r\n    console.log(\"PG spots module initialized\");\r\n}\r\n\r\n// Listen for map initialization event\r\ndocument.addEventListener(\"map_initialized\", function() {\r\n    console.log(\"Map initialized event received in HG spots module\");\r\n    setTimeout(initSpotHG, 100);\r\n});\r\n\r\n// Alternative initialization approach\r\nsetTimeout(() => {\r\n    if (window.mapInitialized) {\r\n        console.log(\"Backup initialization for HG spots module\");\r\n        initSpotHG();\r\n    }\r\n}, 1000);","import { \r\n    getAngleRange, \r\n    loadPlaceDetails, \r\n    showFeebackForm, \r\n    cancelFeedback \r\n} from './spotsHelper.js';\r\n\r\n// Use a module initialization function that waits for map to be ready\r\nexport function initSpotLZ() {\r\n    if (!window.map || !window.placesLayerLZ) {\r\n        setTimeout(initSpotLZ, 500);\r\n        return;\r\n    }\r\n\r\n    console.log(\"Initializing LZ spots module...\");\r\n\r\n    // Create cluster group and nest it in the existing layer group\r\n    const clusterGroup = L.markerClusterGroup({\r\n        disableClusteringAtZoom: 9,\r\n        spiderfyOnMaxZoom: true,\r\n        showCoverageOnHover: true,\r\n        zoomToBoundsOnClick: true,\r\n        maxClusterRadius: 250,\r\n        iconCreateFunction: function(cluster) {\r\n            return L.divIcon({ \r\n                html: `<div class=\"cluster-marker\">${cluster.getChildCount()}</div>`,\r\n                className: 'lz-cluster-icon',\r\n                iconSize: L.point(30, 30)\r\n            });\r\n        }\r\n    });\r\n\r\n    window.placesLayerLZ.addLayer(clusterGroup); // Add cluster group to the layer group\r\n\r\n    // Track current fetch controller to allow cancellation\r\n    let currentFetchController = null;\r\n    // Add debounce timer\r\n    let fetchDebounceTimer = null;\r\n    const DEBOUNCE_DELAY = 300; // ms\r\n\r\n    // Update fetchPlaces to use clusterGroup\r\n    function fetchPlaces() {\r\n        // Clear any pending debounce\r\n        if (fetchDebounceTimer) {\r\n            clearTimeout(fetchDebounceTimer);\r\n        }\r\n        \r\n        // Debounce the fetch call to prevent rapid successive requests\r\n        fetchDebounceTimer = setTimeout(() => {\r\n            // Cancel any ongoing fetch\r\n            if (currentFetchController) {\r\n                currentFetchController.abort();\r\n            }\r\n\r\n            // Create a new controller for this fetch\r\n            currentFetchController = new AbortController();\r\n            const signal = currentFetchController.signal;\r\n            \r\n            const bounds = window.map.getBounds();\r\n            const nw_lat = bounds.getNorthWest().lat;\r\n            const nw_lng = bounds.getNorthWest().lng;\r\n            const se_lat = bounds.getSouthEast().lat;\r\n            const se_lng = bounds.getSouthEast().lng;\r\n\r\n            fetch(`${process.env.APP_DOMAIN}/api/places?nw_lat=${nw_lat}&nw_lng=${nw_lng}&se_lat=${se_lat}&se_lng=${se_lng}&type=LZ`, {\r\n                signal // Attach the abort signal to the fetch call\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    // Only process if this is still the active request\r\n                    if (signal.aborted) return;\r\n                    \r\n                    clusterGroup.clearLayers(); // Clear the cluster group\r\n\r\n                    L.geoJSON(data, {\r\n                        pointToLayer: function (feature, latlng) {\r\n                            return L.marker(latlng, {\r\n                                icon: L.icon({\r\n                                    iconUrl: '../assets/images/windsock.png', // Replace with the actual path to your PNG\r\n                                    iconSize: [20, 20], // Adjust size as needed\r\n                                    iconAnchor: [20, 20] // Adjust anchor to center the image properly\r\n                                })\r\n                            });\r\n                        },\r\n                        onEachFeature: function (feature, layer) {\r\n                            if (feature.properties) {\r\n                                let popupContent = `<b>${feature.properties.name}</b><br>\r\n                                                    Type: ${feature.properties.type}<br>\r\n                                                    Direction: ${feature.properties.direction}<br>\r\n                                                    <i>Loading details...</i>`;\r\n\r\n                                let responsivePopup = L.responsivePopup({\r\n                                    hasTip: true,\r\n                                    autoPan: false,\r\n                                    offset: [15, 25],\r\n                                    maxWidth: 900,\r\n                                    maxHeight: 780\r\n                                }).setContent(popupContent);\r\n\r\n                                layer.bindPopup(responsivePopup);\r\n\r\n                                // Fetch details when popup is opened\r\n                                layer.on(\"popupopen\", async function () {\r\n                                    await loadPlaceDetails(layer, feature.properties.id);\r\n                                });\r\n                               \r\n                            }\r\n                            \r\n                            clusterGroup.addLayer(layer); // Add to clusterGroup\r\n                        }\r\n                    });\r\n                    \r\n                    // Clear the controller reference when done\r\n                    currentFetchController = null;\r\n                })\r\n                .catch(error => {\r\n                    // Don't log aborted requests as errors\r\n                    if (error.name !== 'AbortError') {\r\n                        console.error(\"Error fetching LZ places:\", error);\r\n                    }\r\n                });\r\n        }, DEBOUNCE_DELAY);\r\n    }\r\n    // IMPORTANT: Expose fetchPlaces to window so it can be called from index.js\r\n    window.fetchPlacesLZ = fetchPlaces;\r\n\r\n    // REMOVED: Don't attach moveend listener here anymore\r\n    // The central handler in index.js will call fetchPlacesPG when needed\r\n\r\n    // Initial load only if layer is visible\r\n    if (window.map.hasLayer(window.placesLayerLZ)) {\r\n        fetchPlaces();\r\n    }\r\n    \r\n    console.log(\"PG spots module initialized\");\r\n}\r\n\r\n// Listen for map initialization event\r\ndocument.addEventListener(\"map_initialized\", function() {\r\n    console.log(\"Map initialized event received in LZ spots module\");\r\n    // Give a slight delay to ensure map is fully ready\r\n    setTimeout(initSpotLZ, 100);\r\n});\r\n\r\n// Alternative initialization approach - also try to init if we missed the event\r\nsetTimeout(() => {\r\n    if (window.mapInitialized) {\r\n        console.log(\"Backup initialization for LZ spots module\");\r\n        initSpotLZ();\r\n    }\r\n}, 1000);","import './L.Control.Layers.Tree.js';\r\nimport '../css/L.Control.Layers.Tree.css';\r\nimport '../css/styles.css';\r\nimport InfoControl from './../../../components/InfoControl.js';\r\n\r\nimport './../../../components/airspaces.js';\r\nimport './../../../components/windstations.js';\r\nimport './../../../components/spotsPG.js';\r\nimport './../../../components/spotsHG.js';\r\nimport './../../../components/spotsLZ.js';\r\n\r\n// Initialize map and make necessary objects globally available\r\nfunction initMap() {\r\n  // Create the map object and make it globally accessible\r\n  window.map = L.map('map', {\r\n      center: [50, 6],\r\n      zoom: 11,\r\n      zoomControl: false,\r\n      layers: [] \r\n  });\r\n  \r\n  L.control.zoom({\r\n      position: 'bottomright',\r\n  }).addTo(window.map);\r\n\r\n  // Base Layers\r\n  var awgTerrain = L.tileLayer('https://tile.jawg.io/jawg-terrain/{z}/{x}/{y}{r}.png?access-token=qBDXRu1KSlZGhx4ROlceBD9hcxmrumL34oj29tUkzDVkafqx08tFWPeRNb0KSoKa', {\r\n      attribution: 'Jawg.io terrain'\r\n  }).addTo(window.map);\r\n  \r\n  var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution: '© OpenStreetMap'\r\n  });\r\n  \r\n  var xcontest = L.tileLayer('https://topo.xcontest.app/elev/{z}/{x}/{y}.jpg', {\r\n      attribution: 'XContest&copy; <a href=\"https://www.xcontest.org\">XContest</a>',\r\n      className: 'xcontest-layer'\r\n  });\r\n\r\n  // MapLibre GL layer\r\n  var mapTilerTerrain = L.mapboxGL({\r\n      style: '/assets/maps/maptiler_terrain_wob_testxc.json',\r\n      apiKey: \"c49iG8J3xvAkgCSZ8M8v\",\r\n      className: 'xcmap-layer',\r\n      attribution: 'MapTiler Terrain'\r\n  });\r\n  \r\n  var sat = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}',{\r\n      attribution: 'Map data: Google',\r\n      maxZoom: 20,\r\n      subdomains:['mt0','mt1','mt2','mt3']\r\n  });\r\n   \r\n  // Layer groups - make them globally accessible\r\n  window.windLayer = L.layerGroup().addTo(window.map);\r\n  window.oaipMap = L.tileLayer(`https://a.api.tiles.openaip.net/api/data/openaip/{z}/{x}/{y}.png?apiKey=${process.env.OAIP_KEY}`, {\r\n      attribution: 'OpenAIP&copy; <a href=\"https://www.openaip.net\">OpenAIP</a>',\r\n      className: 'oaip-layer'\r\n  });\r\n  window.airspaceEFG = L.layerGroup([], {\r\n    attribution: 'OpenAIP&copy; <a href=\"https://www.openaip.net\">OpenAIP</a>',\r\n  });\r\n  window.placesLayerPG = L.layerGroup( [], {\r\n    attribution: '&copy; <a href=\"https://paraglidingspots.com\">paraglidingspots.com</a>',\r\n  }); \r\n  window.placesLayerHG = L.layerGroup([], {\r\n    attribution: '&copy; <a href=\"https://paraglidingspots.com\">paraglidingspots.com</a>',\r\n  }); \r\n  window.placesLayerLZ = L.layerGroup([], {\r\n    attribution: '&copy; <a href=\"https://paraglidingspots.com\">paraglidingspots.com</a>',\r\n  });\r\n\r\n  // Tree structure\r\n  var baseTree = {\r\n      label: 'Base Maps',\r\n      children: [\r\n          { label: 'Terrain', layer: awgTerrain },\r\n          { label: 'XContest', layer: L.layerGroup([xcontest, mapTilerTerrain])},\r\n          { label: 'OpenStreetMap', layer: osm },\r\n          { label: 'Satellite', layer: L.layerGroup([mapTilerTerrain, sat])}\r\n      ]\r\n  };\r\n\r\n  var overlayTree = {\r\n      label: 'Overlays',\r\n      children: [\r\n          { label: 'Wind Stations', layer: window.windLayer, checked: true },\r\n          { label: 'Spots',              \r\n              children: [\r\n                  { label: 'Take-off PG', layer: window.placesLayerPG },\r\n                  { label: 'Take-off HG', layer: window.placesLayerHG },\r\n                  { label: 'Landing Zones', layer: window.placesLayerLZ },\r\n              ]\r\n          },\r\n          { label: 'Airspaces', \r\n              children: [\r\n                  { label: 'Airspaces', layer: window.airspaceEFG },\r\n                  { label: 'Gliding', layer: window.airspaceEFG },\r\n                  { label: 'Notam', layer: window.airspaceEFG },\r\n                  { label: 'OpenAIP Map', layer: window.oaipMap},\r\n              ]\r\n          }\r\n      ]\r\n  };\r\n\r\n  new InfoControl({ position: 'bottomright' }).addTo(window.map);\r\n\r\n  // Add locate control\r\n  var lc = L.control\r\n      .locate({  \r\n          drawCircle: false, \r\n          keepCurrentZoomLevel: true,\r\n          position: 'bottomright',\r\n          icon: 'locate',\r\n          iconLoading: 'loading',\r\n          iconElementTag: 'div'\r\n      }).addTo(window.map);\r\n\r\n  // Add layer control tree\r\n  var treeLayersControl = L.control.layers.tree(baseTree, overlayTree, {\r\n      namedToggle: true,\r\n      collapsed: false\r\n  }).addTo(window.map);\r\n\r\n  treeLayersControl.collapseTree().expandSelected();\r\n  \r\n  // Central event handler for map movements\r\n  // This will be the ONLY moveend handler for fetching data\r\n  window.map.on('moveend', function() {\r\n    console.log('Map moveend event triggered');\r\n    \r\n    // Check if windLayer is on the map and fetchWindStations exists\r\n    if (window.map.hasLayer(window.windLayer) && typeof window.fetchWindStations === 'function') {\r\n      console.log('Fetching wind stations after map move...');\r\n      window.fetchWindStations();\r\n    }\r\n    \r\n    // Only trigger fetch for visible spot layers\r\n    if (window.map.hasLayer(window.placesLayerPG) && window.fetchPlacesPG) {\r\n      console.log('Fetching PG spots after map move...');\r\n      window.fetchPlacesPG();\r\n    }\r\n    \r\n    if (window.map.hasLayer(window.placesLayerHG) && window.fetchPlacesHG) {\r\n      console.log('Fetching HG spots after map move...');\r\n      window.fetchPlacesHG();\r\n    }\r\n    \r\n    if (window.map.hasLayer(window.placesLayerLZ) && window.fetchPlacesLZ) {\r\n      console.log('Fetching LZ spots after map move...');\r\n      window.fetchPlacesLZ();\r\n    }\r\n    \r\n    // Airspaces\r\n    if (window.map.hasLayer(window.airspaceEFG) && typeof window.fetchAirspaces === 'function') {\r\n      console.log('Fetching airspaces after map move...');\r\n      window.fetchAirspaces();\r\n    }\r\n  });\r\n  \r\n  // Add layer change event listeners to fetch data when layers are added\r\n  window.map.on('layeradd', function(e) {\r\n    const layer = e.layer;\r\n    \r\n    // When a layer is added, fetch its data if needed\r\n    if (layer === window.windLayer && typeof window.fetchWindStations === 'function') {\r\n      window.fetchWindStations();\r\n    } else if (layer === window.placesLayerPG && window.fetchPlacesPG) {\r\n      window.fetchPlacesPG();\r\n    } else if (layer === window.placesLayerHG && window.fetchPlacesHG) {\r\n      window.fetchPlacesHG();\r\n    } else if (layer === window.placesLayerLZ && window.fetchPlacesLZ) {\r\n      window.fetchPlacesLZ();\r\n    } else if (layer === window.airspaceEFG && typeof window.fetchAirspaces === 'function') {\r\n      window.fetchAirspaces();\r\n    }\r\n  });\r\n  \r\n  // Signal that the map is fully initialized\r\n  window.mapInitialized = true;\r\n  console.log(\"Map initialization complete\");\r\n  \r\n  // Trigger an event that component scripts can listen for\r\n  const mapReadyEvent = new Event('map_initialized');\r\n  document.dispatchEvent(mapReadyEvent);\r\n  console.log(\"Map initialized event dispatched\");\r\n  \r\n  return window.map;\r\n}\r\n\r\n\r\n\r\n// Wait for DOM to be fully loaded\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  console.log(\"DOM content loaded, initializing map\");\r\n  // Initialize the map\r\n  const map = initMap();\r\n  \r\n  // Setup geolocation after map is initialized\r\n  navigator.geolocation.getCurrentPosition(position => {\r\n      console.log(\"Geolocation received\");\r\n      const userLat = position.coords.latitude;\r\n      const userLng = position.coords.longitude;\r\n      map.setView([userLat, userLng], 10);\r\n      \r\n      // Create a user location ready event\r\n      const locationReadyEvent = new CustomEvent('user_location_ready', {\r\n          detail: { lat: userLat, lng: userLng }\r\n      });\r\n      document.dispatchEvent(locationReadyEvent);\r\n      console.log(\"User location event dispatched\");\r\n  });\r\n\r\n  // Load component scripts after map is initialized\r\n  \r\n});\r\n\r\n// Special patch for initial data loading\r\ndocument.addEventListener('user_location_ready', function(e) {\r\n  console.log(\"Handling user location ready event\");\r\n  setTimeout(() => {\r\n      // Only call these functions if they exist, the map is fully initialized,\r\n      // AND their respective layers are visible\r\n      if (typeof window.fetchWindStations === 'function' && \r\n          window.mapInitialized && \r\n          window.map.hasLayer(window.windLayer)) {\r\n          try {\r\n              console.log(\"Fetching wind stations\");\r\n              window.fetchWindStations(e.detail.lat, e.detail.lng);\r\n          } catch (error) {\r\n              console.error('Error fetching wind stations:', error);\r\n          }\r\n      }\r\n      \r\n      if (typeof window.fetchAirspaces === 'function' && \r\n          window.mapInitialized && \r\n          window.map.hasLayer(window.airspaceEFG)) {\r\n          try {\r\n              console.log(\"Fetching airspaces\");\r\n              window.fetchAirspaces();\r\n          } catch (error) {\r\n              console.error('Error fetching airspaces:', error);\r\n          }\r\n      }\r\n  }, 500); // Give a short delay to ensure all scripts are loaded\r\n});"],"names":["console","log","L","Error","Control","Layers","Tree","extend","options","closedSymbol","openedSymbol","spaceSymbol","selectorBack","namedToggle","collapseAll","expandAll","labelIsSelector","_initClassesNames","this","cls","children","childrenNopad","hide","closed","opened","space","pointer","header","neverShow","node","name","label","selAllCheckbox","initialize","baseTree","overlaysTree","_scrollTop","_baseTree","_overlaysTree","Util","setOptions","prototype","call","_setTrees","setBaseTree","tree","setOverlayTree","undefined","addBaseLayer","_layer","_name","addOverlay","removeLayer","collapse","_sect","scrollTop","expand","onAdd","map","changeName","layer","_layersTreeName","toggle","innerHTML","ret","_container","getElementsByClassName","DomUtil","addClass","eachLayer","on","e","expandTree","overlay","container","_overlaysList","_baseLayersList","_applyOnTree","_localExpand","collapseTree","expandSelected","iter","el","p","parentElement","hasClass","that","removeClass","h","inputs","_layerControlInputs","getElementsByTagName","i","length","input","_getLayer","layerId","checked","_section","_form","base","overlays","id","iterate","output","forEach","child","forArrays","Array","isArray","noShow","_layers","off","_onLayerChange","bflat","j","_addLayer","oflat","k","_map","_update","top","it","els","_addItem","_obj","_addTreeLayout","_expandCollapseAll","_iterateTreeLayout","_checkDisabledLayers","text","fn","ctx","o","document","createElement","className","appendChild","tabIndex","DomEvent","type","keyCode","blur","selAllNodes","selAll","creator","sel","entry","insertBefore","selectAllCheckbox","_createCheckboxElement","sensible","_preventClick","splice","variable","hasLayer","radioGroup","stamp","_createRadioElement","manageSelectorsAll","push","_onInputClick","String","title","ev","stopPropagation","selectAllCheckboxes","updateSelAllCheckbox","collapsed","eventeds","eventedClasses","evented","obj","querySelector","event","selectAll","functionToCheck","select","toString","append","create","ancestor","selector","selectedAll","selectedNone","querySelectorAll","inp","indeterminate","_ev","defaultChecked","control","layers","window","link","href","img","src","alt","style","width","height","padding","disableClickPropagation","stop","popup","autoPan","setLatLng","getCenter","setContent","openOn","fetchAirspaces","center","lat","toFixed","lng","apiUrl","concat","process","fetch","then","response","json","data","airspaceEFG","clearLayers","airspaces","items","airspace","icaoClass","geometry","coordinates","coord","color","lowerLimit","value","polygon","airspaceTypes","icaoClasses","weight","fillOpacity","addLayer","clickedPoint","latlng","overlappingAirspaces","_ref","getBounds","contains","popupContent","a","getUnit","unit","upperLimit","join","error","unitCode","getCompassDirection","deg","Math","round","getFillColor","speed","getStrokeColor","getTextColor","backgroundColor","_regeneratorRuntime","t","r","Object","n","hasOwnProperty","defineProperty","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","callInvokeWithMethodAndArg","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","addEventListener","showTab","tabId","element","tab","display","classList","remove","targetTab","getElementById","add","startsWith","stationId","split","canvas","chartInstance","resize","update","warn","fetchWindStations","bounds","nwLat","getNorthWest","nwLng","seLat","getSouthEast","seLng","responseData","windLayer","station","_station$loc$coordina","_slicedToArray","loc","lon","windDirection","last","windAvg","windMax","compassDirection","lastUpdate","Date","toLocaleTimeString","hour","minute","fillColor","strokeColor","peakArrow","peak","isHolfuy","_id","includes","holfuyStationId","arrowSvg","arrowIcon","divIcon","html","iconSize","iconAnchor","marker","icon","addTo","historyData","aggregatedData","grouped","dt","setMinutes","floor","getMinutes","setSeconds","setMilliseconds","key","getTime","count","wAvgSum","wMaxSum","wDirSum","tempSum","tempCount","result","parseInt","sort","b","processHistoricalData","fiveHoursAgo","now","limitedData","filter","historyTable","timeFormatted","compassDir","chartData","popupHtml","bindPopup","responsivePopup","hasTip","offset","maxWidth","maxHeight","setTimeout","getContext","chartDataPointsAvg","x","chartDataPointsMax","Chart","datasets","borderColor","fill","pointRadius","responsive","maintainAspectRatio","layout","bottom","scales","time","displayFormats","tooltipFormat","grid","drawBorder","ticks","autoSkip","maxRotation","minRotation","beginAtZero","stepSize","maxTicksLimit","font","size","plugins","legend","afterDraw","chart","xAxis","save","arrowRowY","textAlign","textBaseline","getPixelForValue","translate","rotate","PI","fillText","restore","cameraImageUrl","cameraImageElement","cameraTabElement","testImage","Image","onload","onerror","naturalWidth","feedbackDropzone","currentFeedbackForm","changeSwiper","swiperc","innerWidth","$","css","changeDirection","initSwiper","idImg","swiperv","swiperLoop3","swiperLoop4","Swiper","autoHeight","direction","allowTouchMove","mousewheel","slidesPerView","loop","spaceBetween","breakpoints","scrollbar","draggable","click","iR","clickedSlide","firstChild","substring","slideTo","transitionEnd","realIndex","getAngleRange","dirToAngle","angleRanges","part","trim","range","dir","angle","start","end","_ref2","loadPlaceDetails","_x","_x2","_loadPlaceDetails","_callee2","placeId","regex1","regex2","regexHeight","regexHD","regexRating","description","_context2","properties","replace","currentPlaceName","currentPlaceId","currentStrPlacemarkId","strPlacemarkId","rating","heightdifference","lastupdate","setPopupContent","firstImg","closePopup","t0","showFeebackForm","destroy","messageDiv","textContent","modalFooter","feedbackFormHtml","insertAdjacentHTML","popupContainer","scrollTo","scrollHeight","behavior","Dropzone","url","autoProcessQueue","maxFiles","maxFilesize","acceptedFiles","addRemoveLinks","dictDefaultMessage","clickable","init","dzInstance","file","previewElement","deleteIcon","preventDefault","removeFile","isValid","test","_ref3","_callee","formData","_messageDiv","_context","FormData","files","body","success","message","_x3","cancelFeedback","_arrayWithHoles","_iterableToArrayLimit","_arrayLikeToArray","from","_unsupportedIterableToArray","_nonIterableRest","initSpotPG","placesLayerPG","clusterGroup","markerClusterGroup","disableClusteringAtZoom","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","maxClusterRadius","iconCreateFunction","cluster","getChildCount","point","currentFetchController","fetchDebounceTimer","fetchPlaces","clearTimeout","abort","signal","AbortController","nw_lat","nw_lng","se_lat","se_lng","aborted","geoJSON","pointToLayer","feature","canvasIcon","drawIcon","clearRect","beginPath","moveTo","arc","lineTo","fillStyle","closePath","onEachFeature","fetchPlacesPG","initSpotHG","placesLayerHG","fetchPlacesHG","initSpotLZ","placesLayerLZ","fetchPlacesLZ","iconUrl","mapInitialized","zoom","zoomControl","position","awgTerrain","tileLayer","attribution","osm","xcontest","mapTilerTerrain","mapboxGL","apiKey","sat","maxZoom","subdomains","layerGroup","oaipMap","overlayTree","InfoControl","locate","drawCircle","keepCurrentZoomLevel","iconLoading","iconElementTag","mapReadyEvent","Event","dispatchEvent","initMap","navigator","geolocation","getCurrentPosition","userLat","coords","latitude","userLng","longitude","setView","locationReadyEvent","CustomEvent","detail"],"sourceRoot":""}